(window.webpackJsonp=window.webpackJsonp||[]).push([[61],{335:function(v,_,l){"use strict";l.r(_);var i=l(14),t=Object(i.a)({},(function(){var v=this,_=v._self._c;return _("ContentSlotsDistributor",{attrs:{"slot-key":v.$parent.slotKey}},[_("h2",{attrs:{id:"分布式事务架构设计哲学本质"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#分布式事务架构设计哲学本质"}},[v._v("#")]),v._v(" 分布式事务架构设计哲学本质")]),v._v(" "),_("p",[v._v("同步、异步业务等多维度场景案例")]),v._v(" "),_("ul",[_("li",[v._v("一次请求涉及数据分布多个存储系统\n"),_("ul",[_("li",[v._v("多个 DB")]),v._v(" "),_("li",[v._v("DB 和 cache")]),v._v(" "),_("li",[v._v("DB 和 MQ")]),v._v(" "),_("li",[v._v("DB 和 ES")]),v._v(" "),_("li",[v._v("。。。")])])]),v._v(" "),_("li",[v._v("业务场景容忍度\n"),_("ul",[_("li",[v._v("商品购买\n"),_("ul",[_("li",[v._v("商品库存、订单、支付")])])]),v._v(" "),_("li",[v._v("朋友圈发布信息\n"),_("ul",[_("li",[v._v("发布信息，朋友圈的小红点")])])])])])]),v._v(" "),_("p",[v._v("CAP -> AP ? CP ? 取决于业务场景容忍度")]),v._v(" "),_("ul",[_("li",[_("p",[v._v("业务场景分类")]),v._v(" "),_("ul",[_("li",[_("p",[v._v("商品购买")]),v._v(" "),_("ul",[_("li",[_("p",[v._v("同步场景")]),v._v(" "),_("p",[v._v("减库存、建立订单")])])])]),v._v(" "),_("li",[_("p",[v._v("异步场景 - 前台超时未支付\n对于一个业务，往往是 "),_("strong",[v._v("同步 + 异步")]),v._v(" 两种场景的结合，比如用户注册，商品下单等")])])])])]),v._v(" "),_("h2",{attrs:{id:"分布式事务架构设计与实践普适方法论"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#分布式事务架构设计与实践普适方法论"}},[v._v("#")]),v._v(" 分布式事务架构设计与实践普适方法论")]),v._v(" "),_("p",[v._v("架构：")]),v._v(" "),_("ul",[_("li",[v._v("90%以上解决的是"),_("strong",[v._v("耦合")]),v._v("问题")]),v._v(" "),_("li",[v._v("解决耦合问题的唯一方案： "),_("strong",[v._v("拆分")])]),v._v(" "),_("li",[v._v("最终目标：高内聚低耦合")])]),v._v(" "),_("p",[v._v("![2021-07-20 pm2.14.02](https://muyids.oss-cn-beijing.aliyuncs.com/2021-07-20 pm2.14.02.png)")]),v._v(" "),_("ul",[_("li",[v._v("分布式事务普适方法论\n"),_("ul",[_("li",[v._v("拆分\n"),_("ul",[_("li",[v._v("分布式事务 -> 长事务")]),v._v(" "),_("li",[v._v("本地事务 -> 短事务")]),v._v(" "),_("li",[v._v("长事务 拆分成 多个短事务")])])]),v._v(" "),_("li",[v._v("协调（补偿）\n"),_("ul",[_("li",[v._v("A->B->C\n"),_("ul",[_("li",[v._v("A、B 成功，C 失败\n"),_("ul",[_("li",[v._v("C 不需要补偿")]),v._v(" "),_("li",[v._v("补偿 B 和 A（逆向）")])])])])])])])])])])])}),[],!1,null,null,null);_.default=t.exports}}]);