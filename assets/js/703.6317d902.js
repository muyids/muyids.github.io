(window.webpackJsonp=window.webpackJsonp||[]).push([[703],{977:function(l,v,a){"use strict";a.r(v);var _=a(14),e=Object(_.a)({},(function(){var l=this,v=l._self._c;return v("ContentSlotsDistributor",{attrs:{"slot-key":l.$parent.slotKey}},[v("h1",{attrs:{id:"backup-vs-replica"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#backup-vs-replica"}},[l._v("#")]),l._v(" Backup vs Replica")]),l._v(" "),v("p",[l._v("Backup")]),l._v(" "),v("ul",[v("li",[l._v("离线的，一般是周期性的，比如每天晚上进行一次备份")]),l._v(" "),v("li",[l._v("当数据丢失时，通常只能恢复到之前的某个时间点")]),l._v(" "),v("li",[l._v("Backup 不做在线的数据服务，不分摊读")])]),l._v(" "),v("p",[l._v("Replica")]),l._v(" "),v("ul",[v("li",[l._v("实时的，在数据写入时，就会以复制品的形式存为多份")]),l._v(" "),v("li",[l._v("数据丢失时，可以马上通过其他的复制品恢复")]),l._v(" "),v("li",[l._v("Replica 用作在线的数据服务，分摊读")])]),l._v(" "),v("h2",{attrs:{id:"mysql-replica"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#mysql-replica"}},[l._v("#")]),l._v(" Mysql Replica")]),l._v(" "),v("p",[l._v("自带 Master Slave 的 Replica 方法")]),l._v(" "),v("p",[l._v("原理：Write Ahead Log")]),l._v(" "),v("ul",[v("li",[l._v("数据库的任何修改操作，会以 log 形式做记录")]),l._v(" "),v("li",[l._v("master 每次有修改，通知 slave 来读 log")]),l._v(" "),v("li",[l._v("slave 的数据有延迟")])]),l._v(" "),v("p",[l._v("Master 挂了怎么办？")]),l._v(" "),v("ul",[v("li",[l._v("将一台 Slave 升级为 Master")]),l._v(" "),v("li",[l._v("会有一定的数据丢失")])])])}),[],!1,null,null,null);v.default=e.exports}}]);