(window.webpackJsonp=window.webpackJsonp||[]).push([[455],{728:function(s,a,t){"use strict";t.r(a);var e=t(14),r=Object(e.a)({},(function(){var s=this,a=s._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("h2",{attrs:{id:"用户、组管理"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#用户、组管理"}},[s._v("#")]),s._v(" 用户、组管理")]),s._v(" "),a("h2",{attrs:{id:"用户切换"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#用户切换"}},[s._v("#")]),s._v(" 用户切换")]),s._v(" "),a("h3",{attrs:{id:"切换-root-用户"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#切换-root-用户"}},[s._v("#")]),s._v(" 切换 root 用户")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("sudo -i\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h3",{attrs:{id:"切换成其他用户"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#切换成其他用户"}},[s._v("#")]),s._v(" 切换成其他用户")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("su - dwyang\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h2",{attrs:{id:"文件所有者管理"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#文件所有者管理"}},[s._v("#")]),s._v(" 文件所有者管理")]),s._v(" "),a("h3",{attrs:{id:"chown"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#chown"}},[s._v("#")]),s._v(" chown")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("chown -R 用户名:组名 文件或目录\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h2",{attrs:{id:"文件、目录名字替换"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#文件、目录名字替换"}},[s._v("#")]),s._v(" 文件、目录名字替换")]),s._v(" "),a("p",[s._v("直接 mv")]),s._v(" "),a("h2",{attrs:{id:"替换目录下所有文件内容"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#替换目录下所有文件内容"}},[s._v("#")]),s._v(" 替换目录下所有文件内容")]),s._v(" "),a("p",[s._v("sed 命令：")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sed")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-i")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'s/foo/bar/g'")]),s._v(" /path/to/your/folder\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# mac系统 增加了一个参数")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sed")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-i")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'.bak'")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'s/foo/bar/g'")]),s._v(" /path/to/your/folder\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br")])]),a("h1",{attrs:{id:"文件夹清理"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#文件夹清理"}},[s._v("#")]),s._v(" 文件夹清理")]),s._v(" "),a("p",[s._v("删除 .bak 后缀的文件")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("find")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(".")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-name")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"*.bak"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("xargs")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("rm")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-rf")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("删除所有 node_modules 目录及目录下 的所有文件")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("find")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(".")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-name")]),s._v(" node_modules "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("xargs")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("rm")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-rf")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("查找所有压缩包")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v('find . -name "*.zip"\n')])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("删除所有编译文件")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v('find . -name ".idea" | xargs rm -rf\nfind . -name "target" | xargs rm -rf\nfind . -name "dist" | xargs rm -rf\n')])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br")])]),a("p",[s._v("shell 命令集合")]),s._v(" "),a("h2",{attrs:{id:"进程相关"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#进程相关"}},[s._v("#")]),s._v(" 进程相关")]),s._v(" "),a("ul",[a("li",[s._v("nohup")])]),s._v(" "),a("p",[s._v("守护进程启动")]),s._v(" "),a("div",{staticClass:"language-shell script line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("nohup")]),s._v(" execShell "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">>")]),s._v(" ps.log "),a("span",{pre:!0,attrs:{class:"token operator"}},[a("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[s._v("2")]),s._v(">")]),a("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[s._v("&1")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("&")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("查看 nohup 启动的进程")]),s._v(" "),a("div",{staticClass:"language-shell script line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("jobs")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-l")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("ul",[a("li",[s._v("awk")])]),s._v(" "),a("p",[s._v("awk 提取进程 ID")]),s._v(" "),a("div",{staticClass:"language-shell script line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("ps")]),s._v(" aux "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("grep")]),s._v(" download "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("grep")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-v")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("grep")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("awk")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'{print $2}'")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("杀掉某进程")]),s._v(" "),a("div",{staticClass:"language-shell script line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("ps")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-ef")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("grep")]),s._v(" pm2 "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("grep")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-v")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("grep")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("awk")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'{print $2}'")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("xargs")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("kill")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-9")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("ul",[a("li",[s._v("lsof")])]),s._v(" "),a("p",[s._v("查看使用某端口的进程")]),s._v(" "),a("p",[s._v("lsof -i:8080")]),s._v(" "),a("ul",[a("li",[s._v("netstat")])]),s._v(" "),a("p",[s._v("查看使用某端口的进程")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("netstat -ap | grep 8080\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("找到进程 ID 后，查看其占用的端口")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("netstat -nap|grep 7779\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h2",{attrs:{id:"目录相关命令"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#目录相关命令"}},[s._v("#")]),s._v(" 目录相关命令")]),s._v(" "),a("ul",[a("li",[s._v("cd")])]),s._v(" "),a("p",[s._v("进入指定目录")]),s._v(" "),a("ul",[a("li",[s._v("ls")])]),s._v(" "),a("p",[s._v("查看一级目录")]),s._v(" "),a("ul",[a("li",[s._v("tree")])]),s._v(" "),a("p",[s._v("查看多级目录")]),s._v(" "),a("p",[s._v("控制深度 "),a("code",[s._v("tree -L 3")])]),s._v(" "),a("ul",[a("li",[s._v("pwd")])]),s._v(" "),a("p",[s._v("显示当前工作目录")]),s._v(" "),a("h3",{attrs:{id:"mkdir"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#mkdir"}},[s._v("#")]),s._v(" mkdir")]),s._v(" "),a("ul",[a("li",[a("p",[s._v("普通目录")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("mkdir test\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])])]),s._v(" "),a("li",[a("p",[s._v("递归目录")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("mkdir -P test/test1\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])])]),s._v(" "),a("li",[a("p",[s._v("创建指定权限目录")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("mkdir -m 777 test3\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])])])]),s._v(" "),a("ul",[a("li",[s._v("rm\n删除文件\n自定义回收站功能")])]),s._v(" "),a("div",{staticClass:"language-shell script line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function-name function"}},[s._v("myrm")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("D")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("/tmp/"),a("span",{pre:!0,attrs:{class:"token variable"}},[a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$(")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("date")]),s._v(" +%Y%m%d%H%M%S"),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v(")")])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("mkdir")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-p")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$D")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("mv")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"'),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$@")]),s._v('"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$D")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("&&")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"moved to '),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$D")]),s._v(' ok"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("alias")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("rm")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'myrm'")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("ul",[a("li",[s._v("mv")])]),s._v(" "),a("p",[s._v("移动")]),s._v(" "),a("ul",[a("li",[s._v("cp")])]),s._v(" "),a("p",[s._v("复制")]),s._v(" "),a("h2",{attrs:{id:"历史查看-history"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#历史查看-history"}},[s._v("#")]),s._v(" 历史查看：history")]),s._v(" "),a("h2",{attrs:{id:"sed"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#sed"}},[s._v("#")]),s._v(" sed")]),s._v(" "),a("h2",{attrs:{id:"tr"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#tr"}},[s._v("#")]),s._v(" tr")]),s._v(" "),a("div",{staticClass:"language-shell script line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" rmi "),a("span",{pre:!0,attrs:{class:"token variable"}},[a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("`")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" images "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("grep")]),s._v(" none "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("awk")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'{print $3}'")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("tr")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"'),a("span",{pre:!0,attrs:{class:"token entity",title:"\\n"}},[s._v("\\n")]),s._v('"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('" "')]),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("`")])]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h2",{attrs:{id:"touch"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#touch"}},[s._v("#")]),s._v(" touch")]),s._v(" "),a("p",[s._v("常用来新建文件")]),s._v(" "),a("h2",{attrs:{id:"cat"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#cat"}},[s._v("#")]),s._v(" cat")]),s._v(" "),a("p",[s._v("查看文件内容")]),s._v(" "),a("p",[s._v("显示行号")]),s._v(" "),a("div",{staticClass:"language-shell script line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("cat")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-n")]),s._v(" test.log\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h2",{attrs:{id:"nl"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#nl"}},[s._v("#")]),s._v(" nl")]),s._v(" "),a("p",[s._v("nl test.log")]),s._v(" "),a("p",[s._v("cat -n test.log")]),s._v(" "),a("h2",{attrs:{id:"more"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#more"}},[s._v("#")]),s._v(" more")]),s._v(" "),a("p",[s._v("逐页阅读")]),s._v(" "),a("ul",[a("li",[s._v("space 下一页")]),s._v(" "),a("li",[s._v("b 上一页")])]),s._v(" "),a("h2",{attrs:{id:"less"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#less"}},[s._v("#")]),s._v(" less")]),s._v(" "),a("p",[s._v("less 与 more 类似")]),s._v(" "),a("p",[s._v("less 在查看之前不会加载整个文件。")]),s._v(" "),a("h2",{attrs:{id:"head"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#head"}},[s._v("#")]),s._v(" head")]),s._v(" "),a("div",{staticClass:"language-shell script line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("head")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-n")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("5")]),s._v(" vim.md\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h2",{attrs:{id:"tail"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#tail"}},[s._v("#")]),s._v(" tail")]),s._v(" "),a("div",{staticClass:"language-shell script line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("tail")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-n")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("5")]),s._v(" vim.md\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h2",{attrs:{id:"which"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#which"}},[s._v("#")]),s._v(" which")]),s._v(" "),a("p",[s._v("查找某个文件命令")]),s._v(" "),a("ul",[a("li",[s._v("which 查看可执行文件的位置")]),s._v(" "),a("li",[s._v("whereis 查看文件的位置")]),s._v(" "),a("li",[s._v("locate 配合数据库查看文件位置。")]),s._v(" "),a("li",[s._v("find 实际搜寻硬盘查询文件名称。")])]),s._v(" "),a("h2",{attrs:{id:"whereis"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#whereis"}},[s._v("#")]),s._v(" whereis")]),s._v(" "),a("p",[s._v("whereis 命令只能用于程序名的搜索，而且只搜索二进制文件（参数-b）、man 说明文件（参数-m）和源代码文件（参数-s）")]),s._v(" "),a("p",[s._v("和 find 相比，whereis 查找的速度非常快，这是因为 linux 系统会将 系统内的所有文件都记录在一个数据库文件中，\n当使用 whereis 和下面即将介绍的 locate 时，会从数据库中查找数据，而不是像 find 命令那样，通 过遍历硬盘来查找，效率自然会很高。\n但是该数据库文件并不是实时更新，默认情况下时一星期更新一次\n，因此，我们在用 whereis 和 locate 查找文件时，有时会找到已经被删除的数据，\n或者刚刚建立文件，却无法查找到，原因就是因为数据库文件没有被更新。")]),s._v(" "),a("h2",{attrs:{id:"locate"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#locate"}},[s._v("#")]),s._v(" locate")]),s._v(" "),a("p",[s._v("locate 让使用者可以很快速的搜寻档案系统内是否有指定的档案。\n其方法是先建立一个包括系统内所有档案名称及路径的数据库，之后当寻找时就只需查询这个数据库，\n而不必实际深入档案系统之中了。在一般的 distribution 之中，数据库的建立都被放在 crontab 中自动执行。")]),s._v(" "),a("p",[s._v("locate 查找的是本地数据库，效率较高，但数据库更新不够实时")]),s._v(" "),a("p",[a("strong",[s._v("更新数据库命令")])]),s._v(" "),a("ul",[a("li",[s._v("linux")])]),s._v(" "),a("div",{staticClass:"language-shell script line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[s._v("$ updatedb\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("ul",[a("li",[s._v("macOX 系统")])]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("sudo /usr/libexec/locate.updatedb\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("建立链接")]),s._v(" "),a("div",{staticClass:"language-shell script line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("ln")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-s")]),s._v(" /usr/libexec/locate.updatedb /usr/local/bin/updatedb\nupdatedb\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("h2",{attrs:{id:"find"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#find"}},[s._v("#")]),s._v(" find")]),s._v(" "),a("p",[s._v("查找文件")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("find . -name 'filename'\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("查找目录下的所有文件中是否含有某个字符串")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v('find . | xargs grep -r "查找的字符串"\n')])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h2",{attrs:{id:"curl"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#curl"}},[s._v("#")]),s._v(" curl")]),s._v(" "),a("p",[s._v("发起一个 HTTP 请求")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v('curl -X POST http://localhost:3000/api/posts --data \'{"title":"controller", "content": "what is controller"}\' --header \'Content-Type:application/json; charset=UTF-8\'\n')])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("HTTP 请求的内容就会是下面这样的")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v('POST /api/posts HTTP/1.1\nHost: localhost:3000\nContent-Type: application/json; charset=UTF-8\n{"title": "controller", "content": "what is controller"}\n')])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br")])]),a("h3",{attrs:{id:"下载-shell-脚本并运行"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#下载-shell-脚本并运行"}},[s._v("#")]),s._v(" 下载 shell 脚本并运行")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("curl -sSL http://acs-public-mirror.oss-cn-hangzhou.aliyuncs.com/docker-engine/internet | sh\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("传递参数")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("curl http://foo.com/script.sh | bash -s arg1 arg2\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h2",{attrs:{id:"date"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#date"}},[s._v("#")]),s._v(" date")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v('date "+%Y-%m-%d"\n')])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h2",{attrs:{id:"dig-命令详解"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#dig-命令详解"}},[s._v("#")]),s._v(" dig 命令详解")]),s._v(" "),a("p",[s._v("dig 跟 nslookup 都是 DNS 查询工具")]),s._v(" "),a("p",[s._v("dig，其实是一个缩写，即 Domain Information Groper。")]),s._v(" "),a("h3",{attrs:{id:"基本的命令格式"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#基本的命令格式"}},[s._v("#")]),s._v(" 基本的命令格式")]),s._v(" "),a("p",[s._v("dig @dnsserver name querytype")]),s._v(" "),a("p",[a("strong",[s._v("举个栗子")])]),s._v(" "),a("p",[s._v("用 google-DNS 来查 baidu.com 的 A 记录")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("dig @8.8.8.8 www.baidu.com A\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[a("strong",[s._v("注意")])]),s._v(" "),a("ul",[a("li",[s._v("dig 默认使用/etc/resolv.conf 里的地址作为上连 DNS 服务器")]),s._v(" "),a("li",[s._v("querytype 可以设置 A/AAAA/PTR/MX/ANY 等值，默认是查询 A 记录。")])]),s._v(" "),a("h3",{attrs:{id:"一些常用选项"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#一些常用选项"}},[s._v("#")]),s._v(" 一些常用选项")]),s._v(" "),a("ul",[a("li",[s._v("-c 选项，可以设置协议类型（class），包括 IN(默认)、CH 和 HS。")]),s._v(" "),a("li",[s._v("-f 选项，dig 支持从一个文件里读取内容进行批量查询，这个非常体贴和方便。文件的内容要求一行为一个查询请求。")]),s._v(" "),a("li",[s._v("-4 和-6 两个选项，用于设置仅适用哪一种作为查询包传输协议，分别对应着 IPv4 和 IPv6。")]),s._v(" "),a("li",[s._v("-t 选项，用来设置查询类型，默认情况下是 A，也可以设置 MX 等类型")]),s._v(" "),a("li",[s._v("-q 选项，其实它本身是一个多余的选项，但是它在复杂的 dig 命令中又是那么的有用。-q 选项可以显式设置你要查询的域名，这样可以避免和其他众多的参数、选项相混淆，提高了命令的可读性")]),s._v(" "),a("li",[s._v("-x 选项，是逆向查询选项。可以查询 IP 地址到域名的映射关系。")])]),s._v(" "),a("h3",{attrs:{id:"dig-特有的查询选项-query-option"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#dig-特有的查询选项-query-option"}},[s._v("#")]),s._v(" dig 特有的查询选项（query option）")]),s._v(" "),a("p",[s._v("和刚才的选项不同，dig 还有一批所谓的“查询选项”，这批选项的使用与否，会影响到 dig 的查询方式或输出的结果信息，因此对于这批选项，dig 要求显式的在其前面统一的加上一个“+”（加号），这样 dig 识别起来会更方便，同时命令的可读性也会更强。\ndig 总共有 42 个查询选项，涉及到 DNS 信息的方方面面，如此多的查询选项，本文不会一一赘述，只会挑出最最常用的几个重点讲解。")]),s._v(" "),a("ul",[a("li",[s._v("【TCP 代替 UDP】")])]),s._v(" "),a("p",[s._v("众所周知，DNS 查询过程中的交互是采用 UDP 的。如果你希望采用 TCP 方式，需要这样：")]),s._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",[a("code",[s._v("dig +tcp www.baidu.com\n")])])]),a("ul",[a("li",[s._v("【默认追加域】")])]),s._v(" "),a("p",[s._v("大家直接看例子，应该就能理解“默认域”的概念了，也就能理解+domain=somedomain 的作用了：")]),s._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",[a("code",[s._v("dig +domain=baidu.com image\n")])])]),a("ul",[a("li",[s._v("【跟踪 dig 全过程】")])]),s._v(" "),a("p",[s._v("dig 非常著名的一个查询选项就是+trace，当使用这个查询选项后，dig 会从根域查询一直跟踪直到查询到最终结果，并将整个过程信息输出出来。")]),s._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",[a("code",[s._v("dig +trace www.baidu.com\n")])])]),a("ul",[a("li",[s._v("【精简 dig 输出】")])]),s._v(" "),a("p",[s._v("使用+nocmd 的话，可以节省输出 dig 版本信息。")]),s._v(" "),a("p",[s._v("使用+short 的话，仅会输出最精简的 CNAME 信息和 A 记录，其他都不会输出")]),s._v(" "),a("p",[s._v("使用+nocomment 的话，可以节省输出 dig 的详情注释信息。")]),s._v(" "),a("p",[s._v("使用+nostat 的话，最后的统计信息也不会输出。")]),s._v(" "),a("h2",{attrs:{id:"du"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#du"}},[s._v("#")]),s._v(" du")]),s._v(" "),a("p",[s._v("常用于清理磁盘空间")]),s._v(" "),a("ul",[a("li",[s._v("df -- display free disk space")]),s._v(" "),a("li",[s._v("du -- display disk usage statistics\n查看子目录占用空间大小")])]),s._v(" "),a("p",[s._v("du -lh --max-depth=1")]),s._v(" "),a("h2",{attrs:{id:"df"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#df"}},[s._v("#")]),s._v(" df")]),s._v(" "),a("p",[s._v("参考 du")]),s._v(" "),a("h2",{attrs:{id:"man"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#man"}},[s._v("#")]),s._v(" man")]),s._v(" "),a("p",[s._v("命令手册")]),s._v(" "),a("h2",{attrs:{id:"sed-2"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#sed-2"}},[s._v("#")]),s._v(" sed")]),s._v(" "),a("p",[s._v("修改文件的内容")]),s._v(" "),a("p",[s._v("sed -- stream editor, 流式处理方式")]),s._v(" "),a("p",[s._v("centos 下")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v('sed -i "s/oldstring/newstring/g" `grep oldstring -rl yourdir`\n')])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("Mac OS 下")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v('sed -i "" "s/oldstring/newstring/g" `grep oldstring -rl yourdir`\n')])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h2",{attrs:{id:"文件压缩"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#文件压缩"}},[s._v("#")]),s._v(" 文件压缩")]),s._v(" "),a("h3",{attrs:{id:"zip"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#zip"}},[s._v("#")]),s._v(" zip")]),s._v(" "),a("p",[s._v("压缩文件夹")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("zip -r dir1.zip dir1\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h2",{attrs:{id:"文件传输"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#文件传输"}},[s._v("#")]),s._v(" 文件传输")]),s._v(" "),a("h3",{attrs:{id:"scp"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#scp"}},[s._v("#")]),s._v(" scp")]),s._v(" "),a("p",[s._v("同步文件")]),s._v(" "),a("p",[s._v("从本地到远程")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("scp local_file remote_username@remote_ip:remote_folder\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("从远程到本地")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("scp remote_username@remote_ip:remote_folder local_file\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h3",{attrs:{id:"rsync"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#rsync"}},[s._v("#")]),s._v(" rsync")]),s._v(" "),a("p",[s._v("同步远目录")]),s._v(" "),a("p",[s._v("基于 scp 实现，支持断点续传")]),s._v(" "),a("p",[s._v('rsync -e "ssh -i ~/.ssh/authorized_keys" -avr src/ root@remote_ip:/opt')]),s._v(" "),a("h2",{attrs:{id:"telnet"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#telnet"}},[s._v("#")]),s._v(" telnet")]),s._v(" "),a("p",[s._v("连接 tcp 服务器")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("$ telnet ${ipaddress} ${port}\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h2",{attrs:{id:"nc"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#nc"}},[s._v("#")]),s._v(" nc")]),s._v(" "),a("p",[s._v("查看进程信息")]),s._v(" "),a("p",[a("strong",[s._v("杀进程常用")])]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("ps -ef | grep pm2 | awk '{print $2}' | xargs kill -9\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h2",{attrs:{id:"netstat"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#netstat"}},[s._v("#")]),s._v(" netstat")]),s._v(" "),a("p",[s._v("查看网络端口占用")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("netstat -an | grep 3000\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h2",{attrs:{id:"lsof"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#lsof"}},[s._v("#")]),s._v(" lsof")]),s._v(" "),a("p",[s._v("查看网络端口占用")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("lsof -i:3000\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h2",{attrs:{id:"grep"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#grep"}},[s._v("#")]),s._v(" grep")]),s._v(" "),a("p",[s._v("查找文件中是否包含某个字符串")]),s._v(" "),a("h2",{attrs:{id:"xargs"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#xargs"}},[s._v("#")]),s._v(" xargs")]),s._v(" "),a("p",[s._v("之所以能用到这个命令，关键是由于很多命令不支持|管道来传递参数，而日常工作中有有这个必要，所以就有了 xargs 命令")]),s._v(" "),a("p",[s._v("例如：")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("find /sbin -perm +700 | ls -l       这个命令是错误的\nfind /sbin -perm +700 | xargs ls -l   这样才是正确的\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])])])}),[],!1,null,null,null);a.default=r.exports}}]);