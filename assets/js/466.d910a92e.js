(window.webpackJsonp=window.webpackJsonp||[]).push([[466],{740:function(s,e,t){"use strict";t.r(e);var a=t(14),i=Object(a.a)({},(function(){var s=this,e=s._self._c;return e("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[e("p",[s._v("ssh 是一个专为远程登录会话和其他网络服务提供安全性的协议。ssh-keygen 可用来生成 ssh 公钥认证所需的公钥和私钥文件")]),s._v(" "),e("h1",{attrs:{id:"背景"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#背景"}},[s._v("#")]),s._v(" 背景")]),s._v(" "),e("ol",[e("li",[e("p",[s._v("使用 git clone 拉取 git 仓库代码时, 提示：")]),s._v(" "),e("p",[s._v("Permission denied (publickey).\nfatal: Could not read from remote repository.")])]),s._v(" "),e("li",[e("p",[s._v("登录远程 Linux 主机，每次都要 ssh 输入密码，可否自动登录？")])])]),s._v(" "),e("h1",{attrs:{id:"命令介绍"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#命令介绍"}},[s._v("#")]),s._v(" 命令介绍")]),s._v(" "),e("ul",[e("li",[e("p",[s._v("ssh-keygen")]),s._v(" "),e("p",[s._v("产生公钥与私钥对.")])]),s._v(" "),e("li",[e("p",[s._v("ssh-copy-id\n将本机的公钥复制到远程机器的 authorized_keys 文件中，ssh-copy-id 也能让你有到远程机器的 home,~/.ssh,和~/.ssh/authorized_keys 的权利")])])]),s._v(" "),e("h1",{attrs:{id:"设置-git-仓库权限"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#设置-git-仓库权限"}},[s._v("#")]),s._v(" 设置 git 仓库权限")]),s._v(" "),e("ol",[e("li",[e("p",[s._v("查看~/.ssh, 或使用 ssh-keygen 产生公钥私钥对")]),s._v(" "),e("p",[s._v("$ ssh-keygen")])]),s._v(" "),e("li",[e("p",[s._v("添加到 git 仓库 SSH key")]),s._v(" "),e("p",[s._v("将~/.ssh/id_rsa.pub 中的公钥添加到 git 仓库 SSH key。")])])]),s._v(" "),e("h1",{attrs:{id:"设置-ssh-自动登录"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#设置-ssh-自动登录"}},[s._v("#")]),s._v(" 设置 ssh 自动登录")]),s._v(" "),e("ol",[e("li",[e("p",[s._v("查看~/.ssh, 或使用 ssh-keygen 产生公钥私钥对")]),s._v(" "),e("p",[s._v("mac$ ssh-keygen")])]),s._v(" "),e("li",[e("p",[s._v("用 ssh-copy-id 将公钥复制到远程机器中")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("\tssh-copy-id -i ~/.ssh/id_rsa.pub [-p xxx]  user@remote-host-ip\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("p",[e("strong",[s._v("注意")]),s._v("\nssh-copy-id 将 key 写到远程机器的 ~/.ssh/authorized_key 文件中")])]),s._v(" "),e("li",[e("p",[s._v("在~/.ssh 目录下创建文件 config，添加远程主机授权")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("\tHost 主机名\n    HostName 远程主机IP\n    User root\n    PreferredAuthentications publickey\n    IdentityFile ~/.ssh/id_rsa\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br")])])]),s._v(" "),e("li",[e("p",[s._v("登陆远程主机")])])]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("\tssh 主机名\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])])])}),[],!1,null,null,null);e.default=i.exports}}]);