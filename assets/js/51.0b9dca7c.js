(window.webpackJsonp=window.webpackJsonp||[]).push([[51],{325:function(t,_,v){"use strict";v.r(_);var e=v(14),l=Object(e.a)({},(function(){var t=this,_=t._self._c;return _("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[_("h4",{attrs:{id:"用户模块"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#用户模块"}},[t._v("#")]),t._v(" 用户模块")]),t._v(" "),_("p",[_("strong",[t._v("注册")])]),t._v(" "),_("ul",[_("li",[t._v("用户账号、姓名、密码")])]),t._v(" "),_("p",[_("strong",[t._v("登录功能")])]),t._v(" "),_("ul",[_("li",[_("p",[t._v("账号 + 密码 -> 登录")])]),t._v(" "),_("li",[_("p",[t._v("登录成功>下发 token")])])]),t._v(" "),_("p",[_("strong",[t._v("退出登录")])]),t._v(" "),_("ul",[_("li",[t._v("服务端删除 session，客户端删 cookie")])]),t._v(" "),_("p",[_("strong",[t._v("修改密码")])]),t._v(" "),_("ul",[_("li",[_("p",[t._v("token + 旧密码 + 新密码")])]),t._v(" "),_("li",[_("p",[t._v("新密码格式校验")])]),t._v(" "),_("li",[_("p",[t._v("旧密码校验")])]),t._v(" "),_("li",[_("p",[t._v("清 cookie,session\n"),_("strong",[t._v("用户列表")])])]),t._v(" "),_("li",[_("p",[t._v("支持分页")])]),t._v(" "),_("li",[_("p",[t._v("检索条件支持：用户名，手机号，邮箱，性别\n"),_("strong",[t._v("编辑用户角色")]),t._v("（TODO）")])])]),t._v(" "),_("p",[t._v("角色分类：超级管理员、管理员、归档人员、普通用户")]),t._v(" "),_("p",[t._v("推荐的角色设计方案：")]),t._v(" "),_("p",[t._v("超级管理员：应用的创建者，拥有一切权限，只有应用的超级管理员能够任命管理员（创建应用时自动任命）")]),t._v(" "),_("p",[t._v("管理员：应用的管理员，可以操作管理应用下的用户、角色、权限（手动创建该角色）")]),t._v(" "),_("p",[t._v("归档人员：可以进行归档操作（手动创建该角色）")]),t._v(" "),_("p",[t._v("普通用户：只读权限，不可以进行文档修改（手动创建该角色）")]),t._v(" "),_("p",[_("strong",[t._v("过滤器")])]),t._v(" "),_("ul",[_("li",[t._v("JWT 校验过滤器")]),t._v(" "),_("li",[t._v("鉴权过滤器(TODO)")])]),t._v(" "),_("hr"),t._v(" "),_("h4",{attrs:{id:"预归档管理"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#预归档管理"}},[t._v("#")]),t._v(" "),_("strong",[t._v("预归档管理")])]),t._v(" "),_("p",[_("strong",[t._v("文档管理")])]),t._v(" "),_("p",[t._v("文档列表")]),t._v(" "),_("ul",[_("li",[_("p",[t._v("属性：序号、档号、文号、题名、责任人、全宗名称、卷宗级别、保管期限、年份、归档日期、页数、密级、备注")])]),t._v(" "),_("li",[_("p",[t._v("支持分页")])])]),t._v(" "),_("p",[t._v("操作：")]),t._v(" "),_("ul",[_("li",[t._v("新增")]),t._v(" "),_("li",[t._v("预览")]),t._v(" "),_("li",[t._v("编辑")]),t._v(" "),_("li",[t._v("归档")]),t._v(" "),_("li",[t._v("删除")]),t._v(" "),_("li",[t._v("批量新增")]),t._v(" "),_("li",[t._v("批量上传文件")]),t._v(" "),_("li",[t._v("单个上传文件")]),t._v(" "),_("li",[t._v("检索")])]),t._v(" "),_("p",[t._v("检索功能：")]),t._v(" "),_("ul",[_("li",[t._v("支持条件：全宗名称、年度、责任人、题名等条件进行筛选")]),t._v(" "),_("li",[t._v("支持分页\n"),_("strong",[t._v("新增")])])]),t._v(" "),_("p",[t._v("序号：自增？")]),t._v(" "),_("p",[t._v("档号：前端录入？")]),t._v(" "),_("p",[t._v("文号：前端录入？")]),t._v(" "),_("p",[t._v("题名：前端录入")]),t._v(" "),_("p",[t._v("责任人：前端录入")]),t._v(" "),_("p",[t._v("全宗名称：前端录入")]),t._v(" "),_("p",[t._v("卷宗级别：枚举类型？前端录入？如果选择“卷级”，多一个选项“绑定件级”。")]),t._v(" "),_("p",[t._v("保管期限：前端录入，单位（天？年？）")]),t._v(" "),_("p",[t._v("年份：前端录入")]),t._v(" "),_("p",[t._v("归档日期：前端录入")]),t._v(" "),_("p",[t._v("页数：前端录入")]),t._v(" "),_("p",[t._v("密级：枚举类型？值？前端录入")]),t._v(" "),_("p",[t._v("备注：前端录入")]),t._v(" "),_("p",[t._v("状态：预归档")]),t._v(" "),_("p",[t._v("入库+同步 es")]),t._v(" "),_("p",[_("strong",[t._v("预览")])]),t._v(" "),_("p",[t._v("点击“预览”，页面跳转到预览页面。上方展示字段名称：下方展示扫描件（PDF）")]),t._v(" "),_("p",[t._v("返回前端文件流或 cdn")]),t._v(" "),_("h4",{attrs:{id:"编辑"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#编辑"}},[t._v("#")]),t._v(" 编辑")]),t._v(" "),_("p",[t._v("入库+同步 es")]),t._v(" "),_("h4",{attrs:{id:"归档"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#归档"}},[t._v("#")]),t._v(" 归档")]),t._v(" "),_("p",[t._v("修改文档状态为已归档")]),t._v(" "),_("h4",{attrs:{id:"删除"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#删除"}},[t._v("#")]),t._v(" 删除")]),t._v(" "),_("p",[t._v("修改文档状态为已删除")]),t._v(" "),_("p",[_("strong",[t._v("批量新增")])]),t._v(" "),_("p",[t._v("上传 excel")]),t._v(" "),_("p",[_("strong",[t._v("批量上传文件")])]),t._v(" "),_("p",[t._v("点击“批量上传文件”，上传 zip 压缩包（压缩包内文件夹就是一个卷宗），后台解析，批量匹配预归档数据")]),t._v(" "),_("h4",{attrs:{id:"上传单个卷宗"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#上传单个卷宗"}},[t._v("#")]),t._v(" 上传单个卷宗")]),t._v(" "),_("p",[t._v("点击“上传单个卷宗”，上传 zip 压缩包或者多张图片（压缩包内文件就是一个卷宗），后台解析，匹配当前这条预归档数据。")]),t._v(" "),_("p",[_("strong",[t._v("文档统计")])]),t._v(" "),_("hr"),t._v(" "),_("h4",{attrs:{id:"档案管理"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#档案管理"}},[t._v("#")]),t._v(" 档案管理")]),t._v(" "),_("p",[_("strong",[t._v("档案管理")])]),t._v(" "),_("p",[_("strong",[t._v("重新归档")])]),t._v(" "),_("p",[t._v("数据回归到预归档管理中，")]),t._v(" "),_("p",[t._v("修改状态：预归档")]),t._v(" "),_("h4",{attrs:{id:"借阅"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#借阅"}},[t._v("#")]),t._v(" 借阅")]),t._v(" "),_("p",[t._v("弹窗选择借阅人，借阅成功后，“借阅按钮”置灰，不可再点击")]),t._v(" "),_("h4",{attrs:{id:"销毁"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#销毁"}},[t._v("#")]),t._v(" 销毁")]),t._v(" "),_("p",[t._v("销毁本条数据")]),t._v(" "),_("p",[t._v("修改状态：已销毁")]),t._v(" "),_("h4",{attrs:{id:"高级管理"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#高级管理"}},[t._v("#")]),t._v(" 高级管理")]),t._v(" "),_("p",[_("strong",[t._v("角色管理")])]),t._v(" "),_("p",[t._v("属性：序号、角色名称、创建时间、备注")]),t._v(" "),_("p",[t._v("支持功能：")]),t._v(" "),_("ul",[_("li",[t._v("新增")]),t._v(" "),_("li",[t._v("编辑\n"),_("ul",[_("li",[t._v("支持角色名称编辑")]),t._v(" "),_("li",[t._v("支持权限增删操作")])])]),t._v(" "),_("li",[t._v("删除（用户已拥有角色不可删除）")]),t._v(" "),_("li",[t._v("查询（支持分页）\n"),_("strong",[t._v("用户管理")])])]),t._v(" "),_("p",[t._v("属性：序号、用户 ID、用户账号、姓名、角色、状态")]),t._v(" "),_("p",[t._v("支持功能：参考用户模块")]),t._v(" "),_("p",[_("strong",[t._v("权限管理")])]),t._v(" "),_("p",[t._v("（TODO）")]),t._v(" "),_("p",[t._v("属性：序号、权限名称、资源、所属应用 id、父权限 id")]),t._v(" "),_("p",[t._v("支持功能：")]),t._v(" "),_("ul",[_("li",[t._v("新增")]),t._v(" "),_("li",[t._v("编辑")]),t._v(" "),_("li",[t._v("删除")])]),t._v(" "),_("hr"),t._v(" "),_("p",[t._v("排期")]),t._v(" "),_("ul",[_("li",[_("p",[t._v("功能模块设计")])]),t._v(" "),_("li",[_("p",[t._v("接口设计")])]),t._v(" "),_("li",[_("p",[t._v("模块开发")]),t._v(" "),_("ul",[_("li",[t._v("用户角色权限接口开发")]),t._v(" "),_("li",[t._v("文档管理基本增删改查")]),t._v(" "),_("li",[t._v("批量上传，卷宗压缩包解析")])])]),t._v(" "),_("li",[_("p",[t._v("服务部署")]),t._v(" "),_("ul",[_("li",[t._v("docker 容器编排")]),t._v(" "),_("li",[t._v("前后端环境部署")])])])]),t._v(" "),_("hr"),t._v(" "),_("p",[t._v("报价")]),t._v(" "),_("ul",[_("li",[_("p",[t._v("人工开发费用")])]),t._v(" "),_("li",[_("p",[t._v("服务器费用(甲方提供？)")])])]),t._v(" "),_("hr"),t._v(" "),_("p",[_("strong",[t._v("档案信息表(archives)")])]),t._v(" "),_("p",[t._v("简介：档案信息表结构设计")]),t._v(" "),_("table",[_("thead",[_("tr",[_("th",{staticStyle:{"text-align":"left"}},[t._v("字段")]),t._v(" "),_("th",{staticStyle:{"text-align":"left"}},[t._v("类型")]),t._v(" "),_("th",{staticStyle:{"text-align":"left"}},[t._v("说明")])])]),t._v(" "),_("tbody",[_("tr",[_("td",{staticStyle:{"text-align":"left"}},[t._v("id")]),t._v(" "),_("td",{staticStyle:{"text-align":"left"}},[t._v("bigint(16)")]),t._v(" "),_("td",{staticStyle:{"text-align":"left"}},[t._v("序号，数据库主键，生成规则暂定自增")])]),t._v(" "),_("tr",[_("td",{staticStyle:{"text-align":"left"}},[t._v("Create_time")]),t._v(" "),_("td",{staticStyle:{"text-align":"left"}},[t._v("Datetime")]),t._v(" "),_("td",{staticStyle:{"text-align":"left"}},[t._v("创建时间")])]),t._v(" "),_("tr",[_("td",{staticStyle:{"text-align":"left"}},[t._v("update_time")]),t._v(" "),_("td",{staticStyle:{"text-align":"left"}},[t._v("Datetime")]),t._v(" "),_("td",{staticStyle:{"text-align":"left"}},[t._v("更新时间")])]),t._v(" "),_("tr",[_("td",{staticStyle:{"text-align":"left"}},[t._v("Deleted_at")]),t._v(" "),_("td",{staticStyle:{"text-align":"left"}},[t._v("bigint(16)")]),t._v(" "),_("td",{staticStyle:{"text-align":"left"}},[t._v("逻辑删除")])]),t._v(" "),_("tr",[_("td",{staticStyle:{"text-align":"left"}},[t._v("document_id")]),t._v(" "),_("td",{staticStyle:{"text-align":"left"}},[t._v("bigint(16)")]),t._v(" "),_("td",{staticStyle:{"text-align":"left"}},[t._v("档号（可能是 uuid）")])]),t._v(" "),_("tr",[_("td",{staticStyle:{"text-align":"left"}},[t._v("Article_id")]),t._v(" "),_("td",{staticStyle:{"text-align":"left"}},[t._v("varchar(128)")]),t._v(" "),_("td",{staticStyle:{"text-align":"left"}},[t._v("文号")])]),t._v(" "),_("tr",[_("td",{staticStyle:{"text-align":"left"}},[t._v("Title")]),t._v(" "),_("td",{staticStyle:{"text-align":"left"}},[t._v("varchar(256)")]),t._v(" "),_("td",{staticStyle:{"text-align":"left"}},[t._v("题名")])]),t._v(" "),_("tr",[_("td",{staticStyle:{"text-align":"left"}},[t._v("person")]),t._v(" "),_("td",{staticStyle:{"text-align":"left"}},[t._v("varchar(64)")]),t._v(" "),_("td",{staticStyle:{"text-align":"left"}},[t._v("责任人")])]),t._v(" "),_("tr",[_("td",{staticStyle:{"text-align":"left"}},[t._v("archive_name")]),t._v(" "),_("td",{staticStyle:{"text-align":"left"}},[t._v("varchar(256)")]),t._v(" "),_("td",{staticStyle:{"text-align":"left"}},[t._v("卷宗名称")])]),t._v(" "),_("tr",[_("td",{staticStyle:{"text-align":"left"}},[t._v("archive_level")]),t._v(" "),_("td",{staticStyle:{"text-align":"left"}},[t._v("int(2)")]),t._v(" "),_("td",{staticStyle:{"text-align":"left"}},[t._v("卷宗级别（1:卷级;2:件级）")])]),t._v(" "),_("tr",[_("td",{staticStyle:{"text-align":"left"}},[t._v("Storage_days")]),t._v(" "),_("td",{staticStyle:{"text-align":"left"}},[t._v("Int(5)")]),t._v(" "),_("td",{staticStyle:{"text-align":"left"}},[t._v("保管期限（期限时长，单位天）")])]),t._v(" "),_("tr",[_("td",{staticStyle:{"text-align":"left"}},[t._v("Storage_end")]),t._v(" "),_("td",{staticStyle:{"text-align":"left"}},[t._v("Datetime")]),t._v(" "),_("td",{staticStyle:{"text-align":"left"}},[t._v("保管期限（截止日期）")])]),t._v(" "),_("tr",[_("td",{staticStyle:{"text-align":"left"}},[t._v("Year")]),t._v(" "),_("td",{staticStyle:{"text-align":"left"}},[t._v("int(4)")]),t._v(" "),_("td",{staticStyle:{"text-align":"left"}},[t._v("年份")])]),t._v(" "),_("tr",[_("td",{staticStyle:{"text-align":"left"}},[t._v("archived_time")]),t._v(" "),_("td",{staticStyle:{"text-align":"left"}},[t._v("Datetime")]),t._v(" "),_("td",{staticStyle:{"text-align":"left"}},[t._v("归档日期")])]),t._v(" "),_("tr",[_("td",{staticStyle:{"text-align":"left"}},[t._v("Pages")]),t._v(" "),_("td",{staticStyle:{"text-align":"left"}},[t._v("int(3)")]),t._v(" "),_("td",{staticStyle:{"text-align":"left"}},[t._v("页数")])]),t._v(" "),_("tr",[_("td",{staticStyle:{"text-align":"left"}},[t._v("Secreat_level")]),t._v(" "),_("td",{staticStyle:{"text-align":"left"}},[t._v("int(2)")]),t._v(" "),_("td",{staticStyle:{"text-align":"left"}},[t._v("密级")])]),t._v(" "),_("tr",[_("td",{staticStyle:{"text-align":"left"}},[t._v("remark")]),t._v(" "),_("td",{staticStyle:{"text-align":"left"}},[t._v("varchar(1024)")]),t._v(" "),_("td",{staticStyle:{"text-align":"left"}},[t._v("备注")])]),t._v(" "),_("tr",[_("td",{staticStyle:{"text-align":"left"}},[t._v("待定字段")]),t._v(" "),_("td",{staticStyle:{"text-align":"left"}}),t._v(" "),_("td",{staticStyle:{"text-align":"left"}},[t._v("下面的字段为待定字段")])]),t._v(" "),_("tr",[_("td",{staticStyle:{"text-align":"left"}},[t._v("parent_id")]),t._v(" "),_("td",{staticStyle:{"text-align":"left"}},[t._v("bigint(16)")]),t._v(" "),_("td",{staticStyle:{"text-align":"left"}},[t._v("件级文件保存卷级文件 id，"),_("br"),t._v("实现文件继承关系"),_("br"),t._v("（卷级此字段值为-1）")])]),t._v(" "),_("tr",[_("td",{staticStyle:{"text-align":"left"}},[t._v("Status")]),t._v(" "),_("td",{staticStyle:{"text-align":"left"}},[t._v("int(2)")]),t._v(" "),_("td",{staticStyle:{"text-align":"left"}},[t._v("档案状态（1:预归档；2：归档；3：删除。。。）")])]),t._v(" "),_("tr",[_("td",{staticStyle:{"text-align":"left"}},[t._v("Zip_file")]),t._v(" "),_("td",{staticStyle:{"text-align":"left"}},[t._v("varchar(256)")]),t._v(" "),_("td",{staticStyle:{"text-align":"left"}},[t._v("上传压缩文件保存地址")])]),t._v(" "),_("tr",[_("td",{staticStyle:{"text-align":"left"}},[t._v("archived_pdf")]),t._v(" "),_("td",{staticStyle:{"text-align":"left"}},[t._v("varchar(256)")]),t._v(" "),_("td",{staticStyle:{"text-align":"left"}},[t._v("当前卷归档后的 pdf 文件地址")])]),t._v(" "),_("tr",[_("td",{staticStyle:{"text-align":"left"}},[t._v("archived_pdf_remote")]),t._v(" "),_("td",{staticStyle:{"text-align":"left"}},[t._v("varchar(256)")]),t._v(" "),_("td",{staticStyle:{"text-align":"left"}},[t._v("pdf 远程上传地址")])]),t._v(" "),_("tr",[_("td",{staticStyle:{"text-align":"left"}},[t._v("archived_pdf_bak")]),t._v(" "),_("td",{staticStyle:{"text-align":"left"}},[t._v("varchar(256)")]),t._v(" "),_("td",{staticStyle:{"text-align":"left"}},[t._v("pdf 备份地址")])])])]),t._v(" "),_("p",[_("strong",[t._v("批处理任务信息表(batch_tasks)")])]),t._v(" "),_("table",[_("thead",[_("tr",[_("th",{staticStyle:{"text-align":"left"}},[t._v("字段")]),t._v(" "),_("th",{staticStyle:{"text-align":"left"}},[t._v("类型")]),t._v(" "),_("th",{staticStyle:{"text-align":"left"}},[t._v("说明")])])]),t._v(" "),_("tbody",[_("tr",[_("td",{staticStyle:{"text-align":"left"}},[t._v("id")]),t._v(" "),_("td",{staticStyle:{"text-align":"left"}},[t._v("bigint(16)")]),t._v(" "),_("td",{staticStyle:{"text-align":"left"}},[t._v("序号，数据库主键，生成规则暂定自增")])]),t._v(" "),_("tr",[_("td",{staticStyle:{"text-align":"left"}},[t._v("Create_time")]),t._v(" "),_("td",{staticStyle:{"text-align":"left"}},[t._v("Datetime")]),t._v(" "),_("td",{staticStyle:{"text-align":"left"}},[t._v("创建时间")])]),t._v(" "),_("tr",[_("td",{staticStyle:{"text-align":"left"}},[t._v("update_time")]),t._v(" "),_("td",{staticStyle:{"text-align":"left"}},[t._v("Datetime")]),t._v(" "),_("td",{staticStyle:{"text-align":"left"}},[t._v("更新时间")])]),t._v(" "),_("tr",[_("td",{staticStyle:{"text-align":"left"}},[t._v("Deleted_at")]),t._v(" "),_("td",{staticStyle:{"text-align":"left"}},[t._v("bigint(16)")]),t._v(" "),_("td",{staticStyle:{"text-align":"left"}},[t._v("逻辑删除")])]),t._v(" "),_("tr",[_("td",{staticStyle:{"text-align":"left"}},[t._v("batch_id")]),t._v(" "),_("td",{staticStyle:{"text-align":"left"}},[t._v("varchar(128)")]),t._v(" "),_("td",{staticStyle:{"text-align":"left"}},[t._v("批任务 id，生成规则 UUID")])]),t._v(" "),_("tr",[_("td",{staticStyle:{"text-align":"left"}},[t._v("user_id")]),t._v(" "),_("td",{staticStyle:{"text-align":"left"}},[t._v("bigint(16)")]),t._v(" "),_("td",{staticStyle:{"text-align":"left"}},[t._v("创建者用户 id")])])])])])}),[],!1,null,null,null);_.default=l.exports}}]);