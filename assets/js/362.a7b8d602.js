(window.webpackJsonp=window.webpackJsonp||[]).push([[362],{636:function(s,a,v){"use strict";v.r(a);var _=v(14),t=Object(_.a)({},(function(){var s=this,a=s._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("p",[a("strong",[s._v("链路追踪")])]),s._v(" "),a("p",[s._v("对于大型微服务架构系统，通常会有下面一些问题：")]),s._v(" "),a("ul",[a("li",[s._v("如何串联整个调用链路，快速定位问题")]),s._v(" "),a("li",[s._v("如何缕清各个微服务间的依赖关系")]),s._v(" "),a("li",[s._v("如何进行各个微服务接口的性能分析")]),s._v(" "),a("li",[s._v("如何跟踪整个业务流程的调用处理顺序\n"),a("strong",[s._v("链路追踪框架对比")])])]),s._v(" "),a("ol",[a("li",[s._v("Zipkin : twitter 开源的调用链分析工具，目前基于 spring cloud sleuth 得到了广泛应用，特点是轻量，使用部署简单")]),s._v(" "),a("li",[s._v("Pinpoint：韩国人开源的基于字节码注入的调用链分析，以及应用监控分析工具。特点是支持多种插件，UI 功能强大，接入端无代码侵入")]),s._v(" "),a("li",[s._v("SkyWalking：本土开源的"),a("strong",[s._v("基于字节码注入的调用链分析")]),s._v("，以及应用监控分析工具。特点是支持多种插件，UI 功能强大，接入端无代码侵入。目前已加入 Apache 孵化器")]),s._v(" "),a("li",[s._v("CAT：美团点评开源的基于编码和配置的调用链分析，应用监控分析，日志采集，监控报警等一系列的监控平台工具。")])]),s._v(" "),a("h4",{attrs:{id:"skywalking"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#skywalking"}},[s._v("#")]),s._v(" "),a("strong",[s._v("skywalking")])]),s._v(" "),a("p",[a("strong",[s._v("功能特性")])]),s._v(" "),a("ol",[a("li",[s._v("多种监控手段，可以通过语言探针和 service mesh 获得监控数据")]),s._v(" "),a("li",[s._v("支持多种语言探针，包括 Java，nodejs")]),s._v(" "),a("li",[s._v("轻量高效，无需大数据平台和大量的服务器资源")]),s._v(" "),a("li",[s._v("模块化，UI、存储、集群管理都有多种机制可选")]),s._v(" "),a("li",[s._v("支持告警")]),s._v(" "),a("li",[s._v("优秀的可视化解决方案\n"),a("strong",[s._v("环境搭建")])])]),s._v(" "),a("p",[a("img",{attrs:{src:"https://muyids.oss-cn-beijing.aliyuncs.com/2021-10-14%20pm5.23.45.png",alt:"2021-10-14 pm5.23.45"}})]),s._v(" "),a("p",[s._v("几大组件：")]),s._v(" "),a("p",[s._v("<1>skywalking oapservice 集群：负责处理监控数据，比如接收 skywalking agent 的监控数据，并存储在数据库中")]),s._v(" "),a("p",[s._v("；接受 skywalking webapp 的前端请求，从数据库查询数据，并返回数据给前端。通常以集群形式存在；")]),s._v(" "),a("p",[s._v("<2>skywalking agent：与业务系统绑定在一起，负责收集各种监控数据")]),s._v(" "),a("p",[s._v("<3>skywalking webapp：前端页面，用于展示数据")]),s._v(" "),a("p",[s._v("<4>数据库：存储监控数据，如 mysql， elasticsearch 等")]),s._v(" "),a("p",[a("strong",[s._v("服务端安装启动")])]),s._v(" "),a("p",[s._v("下载地址：")]),s._v(" "),a("p",[s._v("https://skywalking.apache.org/downloads/")]),s._v(" "),a("p",[s._v("下载解压后，修改 webapp 端口地址 webapp/webapp.yml 中 server.port: 8080 为 8858 端口")]),s._v(" "),a("p",[s._v("启动服务：")]),s._v(" "),a("p",[s._v("运行 "),a("code",[s._v("./bin/startup.sh")])]),s._v(" "),a("p",[s._v("输出日志：")]),s._v(" "),a("p",[s._v("SkyWalking OAP started successfully!\nSkyWalking Web Application started successfully!\nOAP 和 Web 服务启动成功，运行日志在 logs 目录下")]),s._v(" "),a("p",[s._v("访问：http://127.0.0.1:8858/")]),s._v(" "),a("p",[a("strong",[s._v("接入微服务")])]),s._v(" "),a("p",[s._v("配置 agent")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("-javaagent:/usr/local/apache-skywalking-apm-bin-es7-8.7.0/agent/skywalking-agent.jar\n"),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-Dskywalking.agent.namespace")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("cloud\n"),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-Dskywalking.agent.service_name")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("stock-service\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br")])]),a("p",[s._v("进行业务请求")]),s._v(" "),a("p",[a("strong",[s._v("查看 webapp")])]),s._v(" "),a("p",[s._v("访问：http://127.0.0.1:8858/")]),s._v(" "),a("p",[s._v("右上角选择 自动刷新")]),s._v(" "),a("p",[a("strong",[s._v("仪表盘")])])])}),[],!1,null,null,null);a.default=t.exports}}]);