(window.webpackJsonp=window.webpackJsonp||[]).push([[289],{563:function(a,t,s){"use strict";s.r(t);var e=s(14),r=Object(e.a)({},(function(){var a=this,t=a._self._c;return t("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[t("h1",{attrs:{id:"背景"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#背景"}},[a._v("#")]),a._v(" 背景")]),a._v(" "),t("p",[a._v("谈到 mysql 优化，一般针对的上大表，即 mysql 单表数据在一千万左右；")]),a._v(" "),t("p",[a._v("首先，我们要准备需要优化的数据表，如果使用 insert 插入，耗时较长，于是我们需要采用其他的方法来生成大表；")]),a._v(" "),t("h1",{attrs:{id:"大表创建操作"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#大表创建操作"}},[a._v("#")]),a._v(" 大表创建操作")]),a._v(" "),t("p",[a._v("DDL - Create")]),a._v(" "),t("h2",{attrs:{id:"提前生成-sql-语句-使用命令load-data-local-infile导入"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#提前生成-sql-语句-使用命令load-data-local-infile导入"}},[a._v("#")]),a._v(" 提前生成 sql 语句，使用命令"),t("code",[a._v("load data local infile")]),a._v("导入")]),a._v(" "),t("h2",{attrs:{id:"使用-mysql-存储过程生成随机数据并导入"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#使用-mysql-存储过程生成随机数据并导入"}},[a._v("#")]),a._v(" 使用 mysql 存储过程生成随机数据并导入")]),a._v(" "),t("h1",{attrs:{id:"大表-alter-操作"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#大表-alter-操作"}},[a._v("#")]),a._v(" 大表 Alter 操作")]),a._v(" "),t("p",[a._v("DDL - Alter")]),a._v(" "),t("h2",{attrs:{id:"online-ddl"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#online-ddl"}},[a._v("#")]),a._v(" Online DDL")]),a._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("ALTER TABLE tbl_name ADD PRIMARY KEY (column), ALGORITHM=INPLACE, LOCK=NONE;\n")])]),a._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[a._v("1")]),t("br")])]),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("ALTER TABLE test.`user` ADD Column1 varchar(100) NULL, ALGORITHM=INPLACE, LOCK=NONE;\n")])]),a._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[a._v("1")]),t("br")])])])}),[],!1,null,null,null);t.default=r.exports}}]);