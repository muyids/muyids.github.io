(window.webpackJsonp=window.webpackJsonp||[]).push([[353],{627:function(t,_,a){"use strict";a.r(_);var s=a(14),v=Object(s.a)({},(function(){var t=this,_=t._self._c;return _("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[_("p",[t._v("本文是"),_("a",{attrs:{href:"http://seata.io/zh-cn/docs/overview/what-is-seata.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("Seata 官方文档"),_("OutboundLink")],1),t._v("的阅读笔记")]),t._v(" "),_("p",[t._v("Seata 是一款开源的分布式事务解决方案，致力于在微服务架构下提供高性能和简单易用的分布式事务服务。")]),t._v(" "),_("p",[t._v("Seata 将为用户提供了 "),_("strong",[t._v("AT、TCC、SAGA 和 XA")]),t._v(" 事务模式，为用户打造一站式的分布式解决方案。")]),t._v(" "),_("p",[_("strong",[t._v("本地事务")])]),t._v(" "),_("p",[_("img",{attrs:{src:"https://muyids.oss-cn-beijing.aliyuncs.com/2021-10-16%20am9.42.33.png",alt:"2021-10-16 am9.42.33"}})]),t._v(" "),_("p",[_("strong",[t._v("二阶段协议 2PC")])]),t._v(" "),_("p",[_("img",{attrs:{src:"https://muyids.oss-cn-beijing.aliyuncs.com/2021-10-16%20am9.57.13.png",alt:"2021-10-16 am9.57.13"}})]),t._v(" "),_("p",[t._v("两个阶段：")]),t._v(" "),_("ol",[_("li",[t._v("预处理")]),t._v(" "),_("li",[t._v("提交")])]),t._v(" "),_("h3",{attrs:{id:"_2pc-的问题"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#_2pc-的问题"}},[t._v("#")]),t._v(" "),_("strong",[t._v("2PC 的问题")])]),t._v(" "),_("p",[t._v("<1>同步阻塞")]),t._v(" "),_("p",[t._v("参与者在等待协调者指令时，无法进行其他操作，处于阻塞状态；有两种情况：1.其他参与者迟迟没有响应；2.参与者与协调者之间网络异常")]),t._v(" "),_("p",[t._v("<2>单点故障")]),t._v(" "),_("p",[t._v("在 2PC 中，一切请求都来自协调者，协调者地位至关重要，如果协调者宕机，那么参与者会一直阻塞并占用资源；")]),t._v(" "),_("p",[t._v("如果协调者也是分布式架构，使用选主方式提供服务，那么一个协调者挂掉之后，可以选取另一个协调者继续后续服务，可以解决单点问题；但是，新协调者不知道上一个事务的全部状态信息（如已等待 Prepare 响应的时长等），所以无法顺利处理上一个事务")]),t._v(" "),_("p",[t._v("<3>数据不一致")])])}),[],!1,null,null,null);_.default=v.exports}}]);