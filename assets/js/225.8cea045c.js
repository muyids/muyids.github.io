(window.webpackJsonp=window.webpackJsonp||[]).push([[225],{499:function(t,s,r){"use strict";r.r(s);var a=r(14),n=Object(a.a)({},(function(){var t=this,s=t._self._c;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h2",{attrs:{id:"spring-cloud-sleuth"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#spring-cloud-sleuth"}},[t._v("#")]),t._v(" Spring Cloud Sleuth")]),t._v(" "),s("p",[s("strong",[t._v("sleuth 要解决的问题:")])]),t._v(" "),s("p",[s("img",{attrs:{src:"https://fltrp-dera.oss-cn-hangzhou.aliyuncs.com/spring-cloud/pic/sleuth%E7%9A%841.png",alt:""}})]),t._v(" "),s("p",[s("strong",[t._v("而来 sleuth 就是用于追踪每个请求的整体链路")])]),t._v(" "),s("p",[s("img",{attrs:{src:"https://fltrp-dera.oss-cn-hangzhou.aliyuncs.com/spring-cloud/pic/sleuth%E7%9A%842.png",alt:""}})]),t._v(" "),s("h3",{attrs:{id:"使用-sleuth"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#使用-sleuth"}},[t._v("#")]),t._v(" 使用 sleuth:")]),t._v(" "),s("h4",{attrs:{id:"_1-安装-zipkin"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-安装-zipkin"}},[t._v("#")]),t._v(" 1,安装 zipkin:")]),t._v(" "),s("p",[s("img",{attrs:{src:"https://fltrp-dera.oss-cn-hangzhou.aliyuncs.com/spring-cloud/pic/sleuth%E7%9A%843.png",alt:""}})]),t._v(" "),s("p",[s("strong",[t._v("运行 jar 包")])]),t._v(" "),s("p",[t._v("​ java -jar xxxx.jar")]),t._v(" "),s("p",[s("strong",[t._v("然后就可以访问 web 界面, 默认 zipkin 监听的端口是 9411")])]),t._v(" "),s("p",[t._v("​ localhost:9411/zipkin/")]),t._v(" "),s("p",[s("img",{attrs:{src:"https://fltrp-dera.oss-cn-hangzhou.aliyuncs.com/spring-cloud/pic/sleuth%E7%9A%844.png",alt:""}})]),t._v(" "),s("p",[s("strong",[t._v("一条链路完整图片:")])]),t._v(" "),s("p",[s("img",{attrs:{src:"https://fltrp-dera.oss-cn-hangzhou.aliyuncs.com/spring-cloud/pic/sleuth%E7%9A%845.png",alt:""}})]),t._v(" "),s("p",[s("strong",[t._v("精简版:")])]),t._v(" "),s("p",[s("img",{attrs:{src:"https://fltrp-dera.oss-cn-hangzhou.aliyuncs.com/spring-cloud/pic/sleuth%E7%9A%846.png",alt:""}})]),t._v(" "),s("p",[s("strong",[t._v("可以看到,类似链表的形式")])]),t._v(" "),s("h4",{attrs:{id:"_2-使用-sleuth"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-使用-sleuth"}},[t._v("#")]),t._v(" 2,使用 sleuth:")]),t._v(" "),s("p",[t._v("不需要额外创建项目,使用之前的 8001 和 order 的 80 即可")]),t._v(" "),s("h5",{attrs:{id:"_1-修改-8001"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-修改-8001"}},[t._v("#")]),t._v(" 1,修改 8001")]),t._v(" "),s("p",[s("strong",[t._v("引入 pom:")])]),t._v(" "),s("p",[s("img",{attrs:{src:"https://fltrp-dera.oss-cn-hangzhou.aliyuncs.com/spring-cloud/pic/sleuth%E7%9A%847.png",alt:""}})]),t._v(" "),s("p",[t._v("这个包虽然叫 zipkin 但是,里面包含了 zpikin 与 sleuth")]),t._v(" "),s("p",[s("strong",[t._v("修改配置文件:")])]),t._v(" "),s("p",[s("img",{attrs:{src:"https://fltrp-dera.oss-cn-hangzhou.aliyuncs.com/spring-cloud/pic/sleuth%E7%9A%848.png",alt:""}})]),t._v(" "),s("h5",{attrs:{id:"_2-修改-80"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-修改-80"}},[t._v("#")]),t._v(" 2,修改 80")]),t._v(" "),s("p",[s("strong",[t._v("添加 pom")])])])}),[],!1,null,null,null);s.default=n.exports}}]);