(window.webpackJsonp=window.webpackJsonp||[]).push([[711],{984:function(s,a,t){"use strict";t.r(a);var e=t(14),r=Object(e.a)({},(function(){var s=this,a=s._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("h1",{attrs:{id:"vim-键位图"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#vim-键位图"}},[s._v("#")]),s._v(" vim 键位图")]),s._v(" "),a("p",[a("img",{attrs:{src:"https://muyids.oss-cn-beijing.aliyuncs.com/vim_keyboard_2022-05-12_11-09-26.png",alt:"vim_keyboard_2022-05-12_11-09-26"}})]),s._v(" "),a("h1",{attrs:{id:"vim-模式"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#vim-模式"}},[s._v("#")]),s._v(" vim 模式")]),s._v(" "),a("p",[s._v("vim 有 3 种模式")]),s._v(" "),a("ul",[a("li",[a("p",[s._v("普通模式")]),s._v(" "),a("ul",[a("li",[s._v("由 Shell 进入 vi 编辑器时，首先进入普通模式。在普通模式下，从键盘输入任何字符都被当作命令来解释。")])])]),s._v(" "),a("li",[a("p",[s._v("编辑模式")]),s._v(" "),a("ul",[a("li",[a("p",[s._v("编辑模式主要用于文本的输入。在该模式下，用户输入的任何字符都被作为文件的内容保存起来，并在屏幕上显示出来。")]),s._v(" "),a("p",[s._v("在普通模式下，输入 a（附加命令）、c（修改命令）、i（插入命令）、o（另起新行）、r（取代命令）以及 s（替换命令）都将进入编辑模式，此时 vi 窗口的最后一行会显示“Insert”")])])])]),s._v(" "),a("li",[a("p",[s._v("命令模式")]),s._v(" "),a("ul",[a("li",[s._v("命令模式下，用户可以对文件进行一些附加处理。尽管普通模式下的命令可以完成很多功能，但要执行一些如字符串查找、替换、显示行号等操作还是必须要进入命令模式的。")])])]),s._v(" "),a("li",[a("p",[s._v("Visual 模式")]),s._v(" "),a("ul",[a("li",[a("p",[s._v("v 进入 Visual")]),s._v(" "),a("p",[s._v("Ctrl + v 进入 Visual block")]),s._v(" "),a("ul",[a("li",[s._v("选中后通过"),a("code",[s._v("y, d")]),s._v("进行复制或剪切;")]),s._v(" "),a("li",[s._v("通过 p 或 P 进行粘贴;\n文本编辑器有很多，比如图形模式下的 gedit、kwrite 等，文本模式下的 vi、vim（vi 的增强版本）、emacs 等，本文介绍 vim 的一些基本操作")])])])])])]),s._v(" "),a("p",[a("strong",[s._v("模式切换")])]),s._v(" "),a("h1",{attrs:{id:"位置移动"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#位置移动"}},[s._v("#")]),s._v(" 位置移动")]),s._v(" "),a("h2",{attrs:{id:"光标移动"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#光标移动"}},[s._v("#")]),s._v(" 光标移动")]),s._v(" "),a("ul",[a("li",[s._v("h - 向左")]),s._v(" "),a("li",[s._v("j - 向下")]),s._v(" "),a("li",[s._v("k - 向上")]),s._v(" "),a("li",[s._v("i - 向右 kkkk")])]),s._v(" "),a("h3",{attrs:{id:"向指定方向移动-前后左右"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#向指定方向移动-前后左右"}},[s._v("#")]),s._v(" 向指定方向移动（前后左右）")]),s._v(" "),a("p",[s._v("普通模式下，使用组合键"),a("code",[s._v("数字N(optional) + 方向键")]),s._v("实现光标移动")]),s._v(" "),a("p",[s._v("方向键")]),s._v(" "),a("ul",[a("li",[a("p",[s._v("前 l、Space 键或方向键 →")])]),s._v(" "),a("li",[a("p",[s._v("后 h、空格键或方向键 ←")])]),s._v(" "),a("li",[a("p",[s._v("上 -、k、Ctrl+p 或方向键 ↑")]),s._v(" "),a("ul",[a("li",[s._v("+和 Enter 键是将光标移到下一行的行首")]),s._v(" "),a("li",[s._v("其余命令仅是移到下一行，所在的列不变。如果下一行比当前光标所在位置还短，则下标到行尾。")])])]),s._v(" "),a("li",[a("p",[s._v("下 +、Enter 键、j、Ctrl+n 或方向键 ↓")]),s._v(" "),a("ul",[a("li",[s._v("-命令将光标移到上一行行首")]),s._v(" "),a("li",[s._v("另外 3 个保持在同一列。")])])])]),s._v(" "),a("h3",{attrs:{id:"移动到行首"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#移动到行首"}},[s._v("#")]),s._v(" 移动到行首")]),s._v(" "),a("p",[s._v("普通模式下使用"),a("code",[s._v("0或^")]),s._v("命令")]),s._v(" "),a("ul",[a("li",[s._v("0 将光标移到当前行的第一个字符")]),s._v(" "),a("li",[s._v("^ 将光标移到当前行的第一个非空白符")])]),s._v(" "),a("h3",{attrs:{id:"移至行尾"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#移至行尾"}},[s._v("#")]),s._v(" 移至行尾")]),s._v(" "),a("p",[s._v("普通模式下使用"),a("code",[s._v("$")]),s._v("命令")]),s._v(" "),a("p",[s._v("如果在该命令前加数字 n，则光标将下移到 n-1 行的行尾。")]),s._v(" "),a("h3",{attrs:{id:"按词移动"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#按词移动"}},[s._v("#")]),s._v(" 按词移动")]),s._v(" "),a("ul",[a("li",[s._v("按词前移 - 将光标后移至上一个单词的开头\n"),a("ul",[a("li",[s._v("w 以标点符号或空白符（如制表符、换行符或空格符）分隔的字母或数字串")]),s._v(" "),a("li",[s._v("W 搜索的词被定义为非空白符字符串")])])])]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("例如有字符串：\n    echo l > /proc/sys/net/ipv4/conf/default/rp_filter\n\n连续输入命令w，光标从行首移动的位置为：e、l、>、/、p、s、…、/、r、r。\n而命令W，光标从行首移动的位置为：e、l、>、/、r。\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br")])]),a("ul",[a("li",[a("p",[s._v("按词后移 - 将光标后移至上一个单词的开头")]),s._v(" "),a("p",[s._v("b 和 B")])]),s._v(" "),a("li",[a("p",[s._v("移至词尾")]),s._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",[a("code",[s._v("e和E\n")])])])])]),s._v(" "),a("h2",{attrs:{id:"移至指定行"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#移至指定行"}},[s._v("#")]),s._v(" 移至指定行")]),s._v(" "),a("ul",[a("li",[s._v("命令模式 "),a("code",[s._v(":行号")])]),s._v(" "),a("li",[s._v("普通模式 "),a("code",[s._v("行号G")]),s._v("\n显示行号")])]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[s._v(":set number\n:set nu\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("p",[s._v("去掉行号")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[s._v(":set nonumber\n:set nonu\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("h2",{attrs:{id:"屏幕滚动"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#屏幕滚动"}},[s._v("#")]),s._v(" 屏幕滚动")]),s._v(" "),a("p",[s._v("在文件的编辑查看过程中经常涉及屏幕的滚动问题。")]),s._v(" "),a("p",[s._v("在 vi 编辑器中，尽管可以使用键盘上的 Page Up 键和 Page Dawn 键来完成这些操作，甚至使用方向键 ↑ 和 ↓，但是效率比较低，下面来看看相关屏幕滚动的命令。")]),s._v(" "),a("h3",{attrs:{id:"向后滚动一屏"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#向后滚动一屏"}},[s._v("#")]),s._v(" 向后滚动一屏")]),s._v(" "),a("p",[s._v("使用的命令为：Ctrl+f （滚屏后保留上一屏的最后两行）")]),s._v(" "),a("h3",{attrs:{id:"向后滚动半屏"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#向后滚动半屏"}},[s._v("#")]),s._v(" 向后滚动半屏")]),s._v(" "),a("p",[s._v("使用的命令为：Ctrl+d")]),s._v(" "),a("h3",{attrs:{id:"向前滚动一屏"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#向前滚动一屏"}},[s._v("#")]),s._v(" 向前滚动一屏")]),s._v(" "),a("p",[s._v("使用的命令为：Ctrl+b")]),s._v(" "),a("h3",{attrs:{id:"向前滚动半屏"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#向前滚动半屏"}},[s._v("#")]),s._v(" 向前滚动半屏")]),s._v(" "),a("p",[s._v("使用的命令为：Ctrl+u")]),s._v(" "),a("h3",{attrs:{id:"屏幕定位"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#屏幕定位"}},[s._v("#")]),s._v(" 屏幕定位")]),s._v(" "),a("ul",[a("li",[s._v("使用命令 zz 将当前行置为屏幕正中央")]),s._v(" "),a("li",[s._v("使用命令 zt 会将当前行置为屏幕顶端")]),s._v(" "),a("li",[s._v("命令 zb 则会将当前行置于屏幕底端")])]),s._v(" "),a("h3",{attrs:{id:"滚动至第一屏或最后一屏"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#滚动至第一屏或最后一屏"}},[s._v("#")]),s._v(" 滚动至第一屏或最后一屏")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("- gg 定位于文件第一屏\n- G 定位于文件最后一屏\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("h1",{attrs:{id:"文本编辑"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#文本编辑"}},[s._v("#")]),s._v(" 文本编辑")]),s._v(" "),a("h2",{attrs:{id:"文本输入、删除与修改"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#文本输入、删除与修改"}},[s._v("#")]),s._v(" 文本输入、删除与修改")]),s._v(" "),a("p",[s._v("文本的输入、删除与修改是文件编辑的基本操作，其中大部分命令会将 vi 编辑器由普通模式切换为编辑模式，下面来介绍这些命令。")]),s._v(" "),a("h3",{attrs:{id:"插入命令"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#插入命令"}},[s._v("#")]),s._v(" 插入命令")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("i\t\t# 将其后输出的字符插入到当前光标位置之前\nI\t\t# 将其后输入的字符插入到当前光标所在行的行首。\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("h3",{attrs:{id:"附加命令"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#附加命令"}},[s._v("#")]),s._v(" 附加命令")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("a\t\t# 将其后输入的字符插入到当前光标位置之后\nA\t\t# 将其后输入的字符追加到当前光标所在行的行尾\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("h3",{attrs:{id:"另起新行"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#另起新行"}},[s._v("#")]),s._v(" 另起新行")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("o\t\t# 在当前行的下面另起一行\nO\t\t# 在当前行的上面另起一行\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("p",[s._v("另起新行的命令为 o 和 O。新行创建完后，光标停留在新行行首，等待输入文字。")]),s._v(" "),a("h3",{attrs:{id:"删除字符"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#删除字符"}},[s._v("#")]),s._v(" 删除字符")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("x\t\t# 删除光标所在处的字符\nX\t\t# 删除光标前面的那个字符\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("p",[s._v("删除字符的命令为 x 和 X。如果之前给出一个数字 n，则删除由光标所在字符开始向右的 n 个字符。")]),s._v(" "),a("h3",{attrs:{id:"删除文本对象"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#删除文本对象"}},[s._v("#")]),s._v(" 删除文本对象")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("dd \t# 删除光标所在的行\nD\t\t# 删除从光标所在位置开始到行尾的所有字符\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("p",[s._v("字母 d 可以与光标移动命令组合，例如：")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("d^\t# 从光标位置删至行首，不包括光标位。\nd$\t# 从光标位置删至行尾，包括光标位，与D作用相同。\ndG\t# 删除当前行至文件尾的内容。\ndgg\t# 删除当前行至文件头的内容。\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br")])]),a("h2",{attrs:{id:"修改命令"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#修改命令"}},[s._v("#")]),s._v(" 修改命令")]),s._v(" "),a("p",[s._v("修改文本的命令为 cw,C 和 cc")]),s._v(" "),a("p",[s._v("作用是用新输入的文本取代原来的文本，这等价于将原来的文本删除后，利用命令 i 插入新的文本。")]),s._v(" "),a("p",[s._v("例如有一字符串：Hello World!")]),s._v(" "),a("p",[s._v("假设光标当前处在 e 处，输入命令 cw 后，屏幕显示如下：")]),s._v(" "),a("p",[s._v("H World!")]),s._v(" "),a("p",[s._v("此时光标处在 H 后的空格处，接着输入文本 i 后按 Esc 键，屏幕显示如下：")]),s._v(" "),a("p",[s._v("Hi World!")]),s._v(" "),a("p",[s._v("从上面可以看出，cw 只是修改光标当前位置到词尾的字符，如果要修改整个单词，可以使用命令 caw。")]),s._v(" "),a("p",[s._v("C 命令用来修改从光标位置到行尾的文本。如果在前面加一个数字 n，那么会把从当前光标位置至当前行下面的 n-1 行的内容都删除。")]),s._v(" "),a("p",[s._v("命令 cc 的功能和 C 相同，只是修改的范围不同，它修改光标所在的整行内容。")]),s._v(" "),a("h2",{attrs:{id:"取代命令"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#取代命令"}},[s._v("#")]),s._v(" 取代命令")]),s._v(" "),a("p",[s._v("取代文本的命令为 r 和 R。其中命令 r 是用其后输入的单个字符取代光标所在的字符，如果在 r 前加一个数字 n，则用其后输入的单个字符取代光标所在处开始向后的 n 个字符。")]),s._v(" "),a("p",[s._v("R 命令用其后输入的文本取代光标所在处开始的若干个字符，每输入一个字符就取代原有的一个字符，多出的部分附加在后面。")]),s._v(" "),a("h2",{attrs:{id:"复制"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#复制"}},[s._v("#")]),s._v(" 复制")]),s._v(" "),a("p",[s._v("命名缓冲区是以字母 a~z 命名的，利用命名缓冲区可以很好地保存若干文本段，便于以后存取、移动或者重排。访问这些缓冲区时，和前面一样，使用单个双引号。")]),s._v(" "),a("p",[s._v("复制文本的命令有如下两种格式：")]),s._v(" "),a("ul",[a("li",[s._v("yy")]),s._v(" "),a("li",[s._v("y<光标移动命令>\n其中 yy 表示复制整行内容，而后者则通过光标移动命令来限定被复制的文本，如果没有指定缓冲区的名字，文本就被插入到无名缓冲区中。如果用大写字母表示缓冲区，则文本就附加到该缓冲区中，缓冲区中原有的内容不会被覆盖。")])]),s._v(" "),a("h2",{attrs:{id:"粘帖"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#粘帖"}},[s._v("#")]),s._v(" 粘帖")]),s._v(" "),a("p",[s._v("vi 编辑器中的缓冲区分为无名缓冲区和命名缓冲区。无名缓冲区以数字编号，一共有 9 个。前面讲过可以使用删除命令 x 和 dd 来删除文本，其实被删除的内容还保存在缓冲区中，最近一次删除的内容被保存在缓冲区 1 中，次近的在缓冲区 2 中，以此类推，我们可以使用命令把他们提取回来。")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("p # 往当前行之下 或 光标之后粘贴\nP # 往当前行之上或光标之前粘贴\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("p",[s._v("粘帖缓冲区内容的命令是 p 和 P，这两个命令的区别是：命令 p 将文本放在当前行之下或当前光标之后，而命令 P 将文本放在当前行之上或光标之前。")]),s._v(" "),a("h3",{attrs:{id:"不使用缓冲区的复制与移动"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#不使用缓冲区的复制与移动"}},[s._v("#")]),s._v(" 不使用缓冲区的复制与移动")]),s._v(" "),a("p",[s._v("使用的命令为 co，它的基本格式如下：")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v(":<开始行>,<结束行> co <目标行>\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("这个命令在命令模式下执行，其中开始行和结束行标识了文本复制的范围，而目标行则是文本粘帖的位置。")]),s._v(" "),a("p",[a("strong",[s._v("注：")])]),s._v(" "),a("p",[s._v("把"),a("code",[s._v("co")]),s._v(" 改为 "),a("code",[s._v("m")]),s._v(" 即完成剪切复制操作")]),s._v(" "),a("h2",{attrs:{id:"查找与替换"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#查找与替换"}},[s._v("#")]),s._v(" 查找与替换")]),s._v(" "),a("h3",{attrs:{id:"简单替换表达式"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#简单替换表达式"}},[s._v("#")]),s._v(" 简单替换表达式")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v(":[range]s/from/to/[flags]\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("%表示所有行，$表示文件尾，")]),s._v(" "),a("ul",[a("li",[a("p",[s._v("range:搜索范围，如果没有指定范围，则作用于但前行。")]),s._v(" "),a("ol",[a("li",[s._v("1,10s/from/to/ 表示在第 1 到第 10 行（包含第 1，第 10 行）之间搜索替换；")]),s._v(" "),a("li",[s._v("10s/from/to/ 表示只在第 10 行搜索替换；")]),s._v(" "),a("li",[s._v("%s/from/to/ 表示在所有行中搜索替换；")]),s._v(" "),a("li",[s._v("1,$s/from/to/ 同上。")])])]),s._v(" "),a("li",[a("p",[s._v("flags 有如下四个选项：")]),s._v(" "),a("ol",[a("li",[s._v("c confirm，每次替换前询问；")]),s._v(" "),a("li",[s._v("e error， 不显示错误；")]),s._v(" "),a("li",[s._v("g globle，不询问，整行替换。如果不加 g 选项，则只替换每行的第一个匹配到的字符串；")]),s._v(" "),a("li",[s._v("i ignore，忽略大小写。\n这些选项可以合并使用，如 cgi 表示不区分大小写，整行替换，替换前询问。")])])])]),s._v(" "),a("h1",{attrs:{id:"全局和多行文本操作"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#全局和多行文本操作"}},[s._v("#")]),s._v(" 全局和多行文本操作")]),s._v(" "),a("h2",{attrs:{id:"sort-排序"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#sort-排序"}},[s._v("#")]),s._v(" sort 排序")]),s._v(" "),a("p",[a("a",{attrs:{href:"https://webdevetc.com/blog/sort-text-in-vim/",target:"_blank",rel:"noopener noreferrer"}},[s._v("How to sort lines of text from within vim (super easy!)"),a("OutboundLink")],1)]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("# sort\n:sort\n\n:'a,.sort\n\n# How to sort in reverse\n:%sort!\n# How to remove duplicate lines in Vim\n:%sort u\n# How to do numeric sort\n:sort n\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br")])]),a("h2",{attrs:{id:"删除指定行"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#删除指定行"}},[s._v("#")]),s._v(" 删除指定行")]),s._v(" "),a("h3",{attrs:{id:"删除-m-到-n-行"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#删除-m-到-n-行"}},[s._v("#")]),s._v(" 删除 m 到 n 行")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[s._v(":"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("开始行"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(","),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("结束行"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" d\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h3",{attrs:{id:"删除所有空行"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#删除所有空行"}},[s._v("#")]),s._v(" 删除所有空行")]),s._v(" "),a("h4",{attrs:{id:"全局删除"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#全局删除"}},[s._v("#")]),s._v(" 全局删除")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v(":g/^s*$/d\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("简单解释一下：\ng ：全区命令\n/ ：分隔符\n"),a("code",[s._v("^s*$")]),s._v("：匹配空行，其中^表示行首，s 表示空字符，包括空格和制表符，*重复 0 到 n 个前面的字符，$表示行尾。连起来就是匹配只有空字符的行，也就是空行。\n/d ：删除该行")]),s._v(" "),a("h4",{attrs:{id:"替换的方式"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#替换的方式"}},[s._v("#")]),s._v(" 替换的方式")]),s._v(" "),a("p",[s._v("如果空行中可能用空格的话, 可以先把空格都去除:")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v(":%s/^\\s\\+$//\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h3",{attrs:{id:"删除连续空行并保留一行"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#删除连续空行并保留一行"}},[s._v("#")]),s._v(" 删除连续空行并保留一行")]),s._v(" "),a("p",[s._v("如果是空行中没有空格的话, 可以用替换:")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v(":%s/\\n\\{3,\\}/\\r\\r/\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("\\n 表示换行, {3,} 表示三个以上的, 也就是超过两个空行, 替换成两个 \\r (换行在替换的时候就是这样, 前面要用 \\n, 后面要用 \\r)")]),s._v(" "),a("h1",{attrs:{id:"场景练习"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#场景练习"}},[s._v("#")]),s._v(" 场景练习")]),s._v(" "),a("p",[a("strong",[s._v("例子")])]),s._v(" "),a("ul",[a("li",[s._v("删除行尾空格: "),a("code",[s._v("%s/\\s+$//g")])]),s._v(" "),a("li",[s._v("删除行首多余空格: "),a("code",[s._v("%s/^\\s*//")])]),s._v(" "),a("li",[s._v("删除第 101 到 200 行行首空格："),a("code",[s._v("101,200s/^\\s\\+//")])]),s._v(" "),a("li",[s._v("删除第 101 到 200 行行前 5 个字符："),a("code",[s._v("101,200s/^.\\{5\\}//")])]),s._v(" "),a("li",[s._v("删除沒有內容的空行："),a("code",[s._v("%s/^$//")]),s._v(" 或者 "),a("code",[s._v("g/^$/d")])]),s._v(" "),a("li",[s._v("删除包含有空格组成的空行："),a("code",[s._v("%s/^\\s*$//")]),s._v(" 或者 "),a("code",[s._v("g/^\\s*$/d")])]),s._v(" "),a("li",[s._v("删除以空格或 TAB 开头到结尾的空行："),a("code",[s._v("%s/^[ |\\t]*$//")]),s._v(" 或者 "),a("code",[s._v("g/^[ |\\t]*$/d")])]),s._v(" "),a("li",[s._v('把文中的所有字符串"abc……xyz"替换为"xyz……abc"可以有下列写法\n'),a("ul",[a("li",[s._v(":%s/abc(.*)xyz/xyz\\1abc/g")]),s._v(" "),a("li",[s._v(":%s/(abc)(.*)(xyz)/\\3\\2\\1/g")])])])])])}),[],!1,null,null,null);a.default=r.exports}}]);