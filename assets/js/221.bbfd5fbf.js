(window.webpackJsonp=window.webpackJsonp||[]).push([[221],{495:function(a,t,s){"use strict";s.r(t);var r=s(14),n=Object(r.a)({},(function(){var a=this,t=a._self._c;return t("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[t("h2",{attrs:{id:"gateway"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#gateway"}},[a._v("#")]),a._v(" GateWay")]),a._v(" "),t("p",[t("img",{attrs:{src:"https://fltrp-dera.oss-cn-hangzhou.aliyuncs.com/spring-cloud/pic/gateway%E7%9A%841.png",alt:""}})]),a._v(" "),t("p",[t("img",{attrs:{src:"https://fltrp-dera.oss-cn-hangzhou.aliyuncs.com/spring-cloud/pic/gateway%E7%9A%842.png",alt:""}})]),a._v(" "),t("p",[t("strong",[a._v("gateway 之所以性能好,因为底层使用 WebFlux,而 webFlux 底层使用 netty 通信(NIO)")])]),a._v(" "),t("p",[t("img",{attrs:{src:"https://fltrp-dera.oss-cn-hangzhou.aliyuncs.com/spring-cloud/pic/gateway%E7%9A%843.png",alt:""}})]),a._v(" "),t("h3",{attrs:{id:"gateway-的特性"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#gateway-的特性"}},[a._v("#")]),a._v(" GateWay 的特性:")]),a._v(" "),t("p",[t("img",{attrs:{src:"https://fltrp-dera.oss-cn-hangzhou.aliyuncs.com/spring-cloud/pic/gateway%E7%9A%844.png",alt:""}})]),a._v(" "),t("h3",{attrs:{id:"gateway-与-zuul-的区别"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#gateway-与-zuul-的区别"}},[a._v("#")]),a._v(" GateWay 与 zuul 的区别:")]),a._v(" "),t("p",[t("img",{attrs:{src:"https://fltrp-dera.oss-cn-hangzhou.aliyuncs.com/spring-cloud/pic/gateway%E7%9A%845.png",alt:""}})]),a._v(" "),t("h3",{attrs:{id:"zuul1-x-的模型"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#zuul1-x-的模型"}},[a._v("#")]),a._v(" zuul1.x 的模型:")]),a._v(" "),t("p",[t("img",{attrs:{src:"https://fltrp-dera.oss-cn-hangzhou.aliyuncs.com/spring-cloud/pic/gateway%E7%9A%846.png",alt:""}})]),a._v(" "),t("p",[t("img",{attrs:{src:"https://fltrp-dera.oss-cn-hangzhou.aliyuncs.com/spring-cloud/pic/gateway%E7%9A%847.png",alt:""}})]),a._v(" "),t("h3",{attrs:{id:"什么是-webflux"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#什么是-webflux"}},[a._v("#")]),a._v(" 什么是 webflux:")]),a._v(" "),t("p",[t("strong",[a._v("是一个非阻塞的 web 框架,类似 springmvc 这样的")])]),a._v(" "),t("p",[t("img",{attrs:{src:"https://fltrp-dera.oss-cn-hangzhou.aliyuncs.com/spring-cloud/pic/gateway%E7%9A%848.png",alt:""}})]),a._v(" "),t("h3",{attrs:{id:"gateway-的一些概念"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#gateway-的一些概念"}},[a._v("#")]),a._v(" GateWay 的一些概念:")]),a._v(" "),t("h4",{attrs:{id:"_1-路由"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-路由"}},[a._v("#")]),a._v(" 1,路由:")]),a._v(" "),t("p",[t("img",{attrs:{src:"https://fltrp-dera.oss-cn-hangzhou.aliyuncs.com/spring-cloud/pic/gateway%E7%9A%849.png",alt:""}})]),a._v(" "),t("p",[a._v("就是根据某些规则,将请求发送到指定服务上")]),a._v(" "),t("h4",{attrs:{id:"_2-断言"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-断言"}},[a._v("#")]),a._v(" 2,断言:")]),a._v(" "),t("p",[t("img",{attrs:{src:"https://fltrp-dera.oss-cn-hangzhou.aliyuncs.com/spring-cloud/pic/gateway%E7%9A%8410.png",alt:""}})]),a._v(" "),t("p",[a._v("就是判断,如果符合条件就是 xxxx,反之 yyyy")]),a._v(" "),t("h4",{attrs:{id:"_3-过滤"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_3-过滤"}},[a._v("#")]),a._v(" 3,过滤:")]),a._v(" "),t("p",[t("img",{attrs:{src:"https://fltrp-dera.oss-cn-hangzhou.aliyuncs.com/spring-cloud/pic/gateway%E7%9A%8411.png",alt:""}})]),a._v(" "),t("p",[a._v("​ "),t("strong",[a._v("路由前后,过滤请求")])]),a._v(" "),t("h3",{attrs:{id:"gateway-的工作原理"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#gateway-的工作原理"}},[a._v("#")]),a._v(" GateWay 的工作原理:")]),a._v(" "),t("p",[t("img",{attrs:{src:"https://fltrp-dera.oss-cn-hangzhou.aliyuncs.com/spring-cloud/pic/gateway%E7%9A%8412.png",alt:""}})]),a._v(" "),t("p",[t("img",{attrs:{src:"https://fltrp-dera.oss-cn-hangzhou.aliyuncs.com/spring-cloud/pic/gateway%E7%9A%8413.png",alt:""}})]),a._v(" "),t("h3",{attrs:{id:"使用-gateway"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#使用-gateway"}},[a._v("#")]),a._v(" 使用 GateWay:")]),a._v(" "),t("p",[a._v("想要新建一个 GateWay 的项目")]),a._v(" "),t("p",[a._v("名字: cloud_gateway_9527")]),a._v(" "),t("h4",{attrs:{id:"_1-pom"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-pom"}},[a._v("#")]),a._v(" 1,pom")]),a._v(" "),t("h4",{attrs:{id:"_2-配置文件"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-配置文件"}},[a._v("#")]),a._v(" 2,配置文件")]),a._v(" "),t("p",[t("img",{attrs:{src:"https://fltrp-dera.oss-cn-hangzhou.aliyuncs.com/spring-cloud/pic/gateway%E7%9A%8414.png",alt:""}})]),a._v(" "),t("h4",{attrs:{id:"_3-主启动类"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_3-主启动类"}},[a._v("#")]),a._v(" 3,主启动类")]),a._v(" "),t("p",[t("img",{attrs:{src:"https://fltrp-dera.oss-cn-hangzhou.aliyuncs.com/spring-cloud/pic/gateway%E7%9A%8415.png",alt:""}})]),a._v(" "),t("h4",{attrs:{id:"_4-针对-pay-模块-设置路由"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_4-针对-pay-模块-设置路由"}},[a._v("#")]),a._v(" 4,针对 pay 模块,设置路由:")]),a._v(" "),t("p",[t("img",{attrs:{src:"https://fltrp-dera.oss-cn-hangzhou.aliyuncs.com/spring-cloud/pic/gateway%E7%9A%8416.png",alt:""}})]),a._v(" "),t("p",[t("img",{attrs:{src:"https://fltrp-dera.oss-cn-hangzhou.aliyuncs.com/spring-cloud/pic/gateway%E7%9A%8418.png",alt:""}})]),a._v(" "),t("p",[t("strong",[a._v("==修改 GateWay 模块(9527)的配置文件==:")])]),a._v(" "),t("p",[t("img",{attrs:{src:"https://fltrp-dera.oss-cn-hangzhou.aliyuncs.com/spring-cloud/pic/gateway%E7%9A%8417.png",alt:""}})]),a._v(" "),t("p",[a._v("这里表示,")]),a._v(" "),t("p",[a._v("​ 当访问 localhost:9527/payment/get/1 时,")]),a._v(" "),t("p",[a._v("​ 路由到 localhost:8001/payment/get/1")]),a._v(" "),t("h4",{attrs:{id:"_5-开始测试"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_5-开始测试"}},[a._v("#")]),a._v(" 5,开始测试")]),a._v(" "),t("p",[t("strong",[a._v("启动 7001,8001,9527")])]),a._v(" "),t("div",{staticClass:"language-java line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-java"}},[t("code",[a._v("如果启动"),t("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("GateWay")]),a._v("报错\n  \t可能是"),t("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("GateWay")]),a._v("模块引入了web和监控的starter依赖"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("需要移除\n")])]),a._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[a._v("1")]),t("br"),t("span",{staticClass:"line-number"},[a._v("2")]),t("br")])]),t("p",[a._v("访问:")]),a._v(" "),t("p",[a._v("​ localhost:9527/payment/get/1")]),a._v(" "),t("p",[t("img",{attrs:{src:"https://fltrp-dera.oss-cn-hangzhou.aliyuncs.com/spring-cloud/pic/gateway%E7%9A%8419.png",alt:""}})]),a._v(" "),t("h4",{attrs:{id:"_6-gateway-的网关配置"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_6-gateway-的网关配置"}},[a._v("#")]),a._v(" 6,GateWay 的网关配置,")]),a._v(" "),t("p",[a._v("​ "),t("strong",[a._v("GateWay 的网关配置,除了支持配置文件,还支持硬编码方式")])]),a._v(" "),t("h4",{attrs:{id:"_7-使用硬编码配置-gateway"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_7-使用硬编码配置-gateway"}},[a._v("#")]),a._v(" 7 使用硬编码配置 GateWay:")]),a._v(" "),t("h5",{attrs:{id:"创建配置类"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#创建配置类"}},[a._v("#")]),a._v(" 创建配置类:")]),a._v(" "),t("p",[t("img",{attrs:{src:"https://fltrp-dera.oss-cn-hangzhou.aliyuncs.com/spring-cloud/pic/gateway%E7%9A%8420.png",alt:""}})]),a._v(" "),t("h4",{attrs:{id:"_8-然后重启服务即可"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_8-然后重启服务即可"}},[a._v("#")]),a._v(" 8,然后重启服务即可")]),a._v(" "),t("h3",{attrs:{id:"重构"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#重构"}},[a._v("#")]),a._v(" 重构:")]),a._v(" "),t("p",[a._v("上面的配置虽然首先了网关,但是是在配置文件中写死了要路由的地址")]),a._v(" "),t("p",[a._v("现在需要修改,不指定地址,而是根据微服务名字进行路由,我们可以在注册中心获取某组微服务的地址")]),a._v(" "),t("p",[a._v("需要:")]),a._v(" "),t("p",[a._v("​ 1 个 eureka,2 个 pay 模块")]),a._v(" "),t("h4",{attrs:{id:"修改-gateway-模块的配置文件"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#修改-gateway-模块的配置文件"}},[a._v("#")]),a._v(" 修改 GateWay 模块的配置文件:")]),a._v(" "),t("p",[t("img",{attrs:{src:"https://fltrp-dera.oss-cn-hangzhou.aliyuncs.com/spring-cloud/pic/gateway%E7%9A%8421.png",alt:""}})]),a._v(" "),t("h4",{attrs:{id:"然后就可以启动微服务-测试"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#然后就可以启动微服务-测试"}},[a._v("#")]),a._v(" 然后就可以启动微服务.测试")]),a._v(" "),t("h3",{attrs:{id:"pridicate-断言"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#pridicate-断言"}},[a._v("#")]),a._v(" Pridicate 断言:")]),a._v(" "),t("p",[t("img",{attrs:{src:"https://fltrp-dera.oss-cn-hangzhou.aliyuncs.com/spring-cloud/pic/gateway%E7%9A%8424.png",alt:""}})]),a._v(" "),t("p",[t("strong",[a._v("我们之前在配置文件中配置了断言:")])]),a._v(" "),t("p",[t("img",{attrs:{src:"https://fltrp-dera.oss-cn-hangzhou.aliyuncs.com/spring-cloud/pic/gateway%E7%9A%8422.png",alt:""}})]),a._v(" "),t("p",[t("strong",[a._v("这个断言表示,如果外部访问路径是指定路径,就路由到指定微服务上")])]),a._v(" "),t("p",[a._v("可以看到,这里有一个 Path,这个是断言的一种,==断言的类型==:")]),a._v(" "),t("p",[t("img",{attrs:{src:"https://fltrp-dera.oss-cn-hangzhou.aliyuncs.com/spring-cloud/pic/gateway%E7%9A%8423.png",alt:""}})]),a._v(" "),t("div",{staticClass:"language-java line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-java"}},[t("code",[t("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("After")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v("\n\t\t可以指定"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("只有在指定时间后"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("才可以路由到指定微服务\n")])]),a._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[a._v("1")]),t("br"),t("span",{staticClass:"line-number"},[a._v("2")]),t("br")])]),t("p",[t("img",{attrs:{src:"https://fltrp-dera.oss-cn-hangzhou.aliyuncs.com/spring-cloud/pic/gateway%E7%9A%8426.png",alt:""}})]),a._v(" "),t("p",[a._v("​ 这里表示,只有在==2020 年的 2 月 21 的 15 点 51 分 37 秒==之后,访问==才可以路由==")]),a._v(" "),t("p",[a._v("​ 在此之前的访问,都会报 404")]),a._v(" "),t("p",[a._v("如何获取当前时区?**")]),a._v(" "),t("p",[t("img",{attrs:{src:"https://fltrp-dera.oss-cn-hangzhou.aliyuncs.com/spring-cloud/pic/gateway%E7%9A%8425.png",alt:""}})]),a._v(" "),t("div",{staticClass:"language-java line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-java"}},[t("code",[a._v("before"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v("\n\t\t与after类似"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("他说在指定时间之前的才可以访问\nbetween"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v("\n\t\t需要指定两个时间"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("在他们之间的时间才可以访问\n")])]),a._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[a._v("1")]),t("br"),t("span",{staticClass:"line-number"},[a._v("2")]),t("br"),t("span",{staticClass:"line-number"},[a._v("3")]),t("br"),t("span",{staticClass:"line-number"},[a._v("4")]),t("br")])]),t("p",[t("img",{attrs:{src:"https://fltrp-dera.oss-cn-hangzhou.aliyuncs.com/spring-cloud/pic/gateway%E7%9A%8427.png",alt:""}})]),a._v(" "),t("div",{staticClass:"language-java line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-java"}},[t("code",[a._v("cookie"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v("\n\t\t只有包含某些指定"),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("cookie")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),a._v("key"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("value"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("的请求才可以路由\n")])]),a._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[a._v("1")]),t("br"),t("span",{staticClass:"line-number"},[a._v("2")]),t("br")])]),t("p",[t("img",{attrs:{src:"https://fltrp-dera.oss-cn-hangzhou.aliyuncs.com/spring-cloud/pic/gateway%E7%9A%8428.png",alt:""}})]),a._v(" "),t("p",[t("img",{attrs:{src:"https://fltrp-dera.oss-cn-hangzhou.aliyuncs.com/spring-cloud/pic/gateway%E7%9A%8429.png",alt:""}})]),a._v(" "),t("div",{staticClass:"language-java line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-java"}},[t("code",[t("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("Header")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v("\n\t\t只有包含指定请求头的请求"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("才可以路由\n")])]),a._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[a._v("1")]),t("br"),t("span",{staticClass:"line-number"},[a._v("2")]),t("br")])]),t("p",[t("img",{attrs:{src:"https://fltrp-dera.oss-cn-hangzhou.aliyuncs.com/spring-cloud/pic/gateway%E7%9A%8431.png",alt:""}})]),a._v(" "),t("p",[t("img",{attrs:{src:"https://fltrp-dera.oss-cn-hangzhou.aliyuncs.com/spring-cloud/pic/gateway%E7%9A%8432.png",alt:""}})]),a._v(" "),t("p",[a._v("测试:\n"),t("img",{attrs:{src:"https://fltrp-dera.oss-cn-hangzhou.aliyuncs.com/spring-cloud/pic/gateway%E7%9A%8433.png",alt:""}})]),a._v(" "),t("div",{staticClass:"language-java line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-java"}},[t("code",[a._v("host"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v("\n\t\t只有指定主机的才可以访问"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("\n\t\t比如我们当前的网站的域名是www"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("aa"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("com\n    那么这里就可以设置"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("只有用户是www"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("aa"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("com的请求"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("才进行路由\n")])]),a._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[a._v("1")]),t("br"),t("span",{staticClass:"line-number"},[a._v("2")]),t("br"),t("span",{staticClass:"line-number"},[a._v("3")]),t("br"),t("span",{staticClass:"line-number"},[a._v("4")]),t("br")])]),t("p",[t("img",{attrs:{src:"https://fltrp-dera.oss-cn-hangzhou.aliyuncs.com/spring-cloud/pic/gateway%E7%9A%8434.png",alt:""}})]),a._v(" "),t("p",[t("img",{attrs:{src:"https://fltrp-dera.oss-cn-hangzhou.aliyuncs.com/spring-cloud/pic/gateway%E7%9A%8435.png",alt:"gateway的34"}})]),a._v(" "),t("p",[t("img",{attrs:{src:"https://fltrp-dera.oss-cn-hangzhou.aliyuncs.com/spring-cloud/pic/gateway%E7%9A%8436.png",alt:""}})]),a._v(" "),t("p",[t("img",{attrs:{src:"https://fltrp-dera.oss-cn-hangzhou.aliyuncs.com/spring-cloud/pic/gateway%E7%9A%8437.png",alt:""}})]),a._v(" "),t("p",[a._v("可以看到,如果带了域名访问,就可以,但是直接访问 ip 地址.就报错了")]),a._v(" "),t("div",{staticClass:"language-java line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-java"}},[t("code",[a._v("method"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v("\n\t\t只有指定请求才可以路由"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("比如get请求"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("\n")])]),a._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[a._v("1")]),t("br"),t("span",{staticClass:"line-number"},[a._v("2")]),t("br")])]),t("p",[t("img",{attrs:{src:"https://fltrp-dera.oss-cn-hangzhou.aliyuncs.com/spring-cloud/pic/gateway%E7%9A%8438.png",alt:""}})]),a._v(" "),t("div",{staticClass:"language-java line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-java"}},[t("code",[a._v("path"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v("\n\t\t只有访问指定路径"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("才进行路由\n     比如访问"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("/")]),a._v("abc才路由\n")])]),a._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[a._v("1")]),t("br"),t("span",{staticClass:"line-number"},[a._v("2")]),t("br"),t("span",{staticClass:"line-number"},[a._v("3")]),t("br")])]),t("p",[t("img",{attrs:{src:"https://fltrp-dera.oss-cn-hangzhou.aliyuncs.com/spring-cloud/pic/gateway%E7%9A%8439.png",alt:""}})]),a._v(" "),t("div",{staticClass:"language-java line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-java"}},[t("code",[t("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("Query")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v("\n\t\t必须带有请求参数才可以访问\n")])]),a._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[a._v("1")]),t("br"),t("span",{staticClass:"line-number"},[a._v("2")]),t("br")])]),t("p",[t("img",{attrs:{src:"https://fltrp-dera.oss-cn-hangzhou.aliyuncs.com/spring-cloud/pic/gateway%E7%9A%8440.png",alt:""}})]),a._v(" "),t("h3",{attrs:{id:"filter-过滤器"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#filter-过滤器"}},[a._v("#")]),a._v(" Filter 过滤器:")]),a._v(" "),t("p",[t("img",{attrs:{src:"https://fltrp-dera.oss-cn-hangzhou.aliyuncs.com/spring-cloud/pic/gateway%E7%9A%8441.png",alt:""}})]),a._v(" "),t("h4",{attrs:{id:"生命周期"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#生命周期"}},[a._v("#")]),a._v(" 生命周期:")]),a._v(" "),t("p",[t("strong",[a._v("在请求进入路由之前,和处理请求完成,再次到达路由之前")])]),a._v(" "),t("h4",{attrs:{id:"种类"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#种类"}},[a._v("#")]),a._v(" 种类:")]),a._v(" "),t("p",[t("img",{attrs:{src:"https://fltrp-dera.oss-cn-hangzhou.aliyuncs.com/spring-cloud/pic/gateway%E7%9A%8442.png",alt:""}})]),a._v(" "),t("p",[a._v("GateWayFilter,单一的过滤器")]),a._v(" "),t("p",[t("strong",[a._v("与断言类似,比如闲置,请求头,只有特定的请求头才放行,反之就过滤")]),a._v(":")]),a._v(" "),t("p",[t("img",{attrs:{src:"https://fltrp-dera.oss-cn-hangzhou.aliyuncs.com/spring-cloud/pic/gateway%E7%9A%8443.png",alt:""}})]),a._v(" "),t("p",[a._v("GlobalFilter,全局过滤器:")])])}),[],!1,null,null,null);t.default=n.exports}}]);