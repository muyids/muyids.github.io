<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8" />
    <title>前缀和</title>
    <script src="echarts.5.3.3.min.js"></script>
    <script src="problems.js "></script>
    <style type="text/css">
        .btn-add,
        .btn-sub {
            width: 1.5rem; height: 1.5rem;
            border: 1px solid gray;
            background: linear-gradient(currentColor, currentColor) no-repeat center/.875em 2px,
                        linear-gradient(currentColor, currentColor) no-repeat center/2px .875em,
                        ghostwhite;
            color: dimgray;
        }
        .btn-sub {
            background-size: .875em 2px, 0;
        }
        .btn-group {
            position: absolute;
            transition: .5s ease;
            top: 95%;
            left: 95%;
        }
    </style>
</head>

<body>
    <div id="main" style="width: 100%;height:800px; background-color: beige;"></div>

    <script type="text/javascript">
        var myChart = echarts.init(document.getElementById('main'));
        var data = {"data": [{"frontId": "209", "link": "https://leetcode.cn/problems/minimum-size-subarray-sum/", "name": "209. 长度最小的子数组"}, {"frontId": "238", "link": "https://leetcode.cn/problems/product-of-array-except-self/", "name": "238. 除自身以外数组的乘积"}, {"frontId": "303", "link": "https://leetcode.cn/problems/range-sum-query-immutable/", "name": "303. 区域和检索 - 数组不可变"}, {"frontId": "304", "link": "https://leetcode.cn/problems/range-sum-query-2d-immutable/", "name": "304. 二维区域和检索 - 矩阵不可变"}, {"frontId": "363", "link": "https://leetcode.cn/problems/max-sum-of-rectangle-no-larger-than-k/", "name": "363. 矩形区域不超过 K 的最大数值和"}, {"frontId": "523", "link": "https://leetcode.cn/problems/continuous-subarray-sum/", "name": "523. 连续的子数组和"}, {"frontId": "525", "link": "https://leetcode.cn/problems/contiguous-array/", "name": "525. 连续数组"}, {"frontId": "560", "link": "https://leetcode.cn/problems/subarray-sum-equals-k/", "name": "560. 和为 K 的子数组"}, {"frontId": "1004", "link": "https://leetcode.cn/problems/max-consecutive-ones-iii/", "name": "1004. 最大连续1的个数 III"}, {"frontId": "1094", "link": "https://leetcode.cn/problems/car-pooling/", "name": "1094. 拼车"}, {"frontId": "1109", "link": "https://leetcode.cn/problems/corporate-flight-bookings/", "name": "1109. 航班预订统计"}, {"frontId": "1124", "link": "https://leetcode.cn/problems/longest-well-performing-interval/", "name": "1124. 表现良好的最长时间段"}, {"frontId": "1314", "link": "https://leetcode.cn/problems/matrix-block-sum/", "name": "1314. 矩阵区域和"}, {"frontId": "1208", "link": "https://leetcode.cn/problems/get-equal-substrings-within-budget/", "name": "1208. 尽可能使字符串相等"}, {"frontId": "1292", "link": "https://leetcode.cn/problems/maximum-side-length-of-a-square-with-sum-less-than-or-equal-to-threshold/", "name": "1292. 元素和小于等于阈值的正方形的最大边长"}, {"frontId": "1310", "link": "https://leetcode.cn/problems/xor-queries-of-a-subarray/", "name": "1310. 子数组异或查询"}, {"frontId": "1371", "link": "https://leetcode.cn/problems/find-the-longest-substring-containing-vowels-in-even-counts/", "name": "1371. 每个元音包含偶数次的最长子字符串"}, {"frontId": "1413", "link": "https://leetcode.cn/problems/minimum-value-to-get-positive-step-by-step-sum/", "name": "1413. 逐步求和得到正数的最小值"}, {"frontId": "1423", "link": "https://leetcode.cn/problems/maximum-points-you-can-obtain-from-cards/", "name": "1423. 可获得的最大点数"}, {"frontId": "1480", "link": "https://leetcode.cn/problems/running-sum-of-1d-array/", "name": "1480. 一维数组的动态和"}, {"frontId": "724", "link": "https://leetcode.cn/problems/find-pivot-index/", "name": "724. 寻找数组的中心下标"}, {"frontId": "798", "link": "https://leetcode.cn/problems/smallest-rotation-with-highest-score/", "name": "798. 得分最高的最小轮调"}, {"frontId": "862", "link": "https://leetcode.cn/problems/shortest-subarray-with-sum-at-least-k/", "name": "862. 和至少为 K 的最短子数组"}, {"frontId": "528", "link": "https://leetcode.cn/problems/random-pick-with-weight/", "name": "528. 按权重随机选择"}, {"frontId": "497", "link": "https://leetcode.cn/problems/random-point-in-non-overlapping-rectangles/", "name": "497. 非重叠矩形中的随机点"}, {"frontId": "974", "link": "https://leetcode.cn/problems/subarray-sums-divisible-by-k/", "name": "974. 和可被 K 整除的子数组"}], "links": [{"source": "303. 区域和检索 - 数组不可变", "target": "304. 二维区域和检索 - 矩阵不可变"}, {"source": "528. 按权重随机选择", "target": "724. 寻找数组的中心下标"}, {"source": "724. 寻找数组的中心下标", "target": "238. 除自身以外数组的乘积"}, {"source": "724. 寻找数组的中心下标", "target": "523. 连续的子数组和"}, {"source": "523. 连续的子数组和", "target": "525. 连续数组"}, {"source": "560. 和为 K 的子数组", "target": "974. 和可被 K 整除的子数组"}, {"source": "525. 连续数组", "target": "528. 按权重随机选择"}, {"source": "525. 连续数组", "target": "560. 和为 K 的子数组"}, {"source": "560. 和为 K 的子数组", "target": "862. 和至少为 K 的最短子数组"}, {"source": "560. 和为 K 的子数组", "target": "798. 得分最高的最小轮调"}, {"source": "304. 二维区域和检索 - 矩阵不可变", "target": "1314. 矩阵区域和"}, {"source": "304. 二维区域和检索 - 矩阵不可变", "target": "363. 矩形区域不超过 K 的最大数值和"}, {"source": "1314. 矩阵区域和", "target": "1292. 元素和小于等于阈值的正方形的最大边长"}, {"source": "303. 区域和检索 - 数组不可变", "target": "1109. 航班预订统计"}]}

        data.data.forEach(e => {
            e.level = all_problems[e.frontId]['l']
            e.status = all_problems[e.frontId]['s']
            e.draggable = true
            if (all_problems[e.frontId] && all_problems[e.frontId]['s']) {
                e['category'] = 0
            }
        })
        data.links.forEach(e => {
            e.value = ''
        })

        var option = {
            tooltip: {
                trigger: 'item',
                formatter(params) {
                    var data = params.data
                    s = `${data.name}<br/>
${data.level == 1 ? '容易' : data.level == 2 ? '中等' : '困难'}<br />
${data.status == 1 ? "AC" : "NotAC"}`
                    return s;
                }
            },
            focusNodeAdjacency: true,
            animationDurationUpdate: 1500,
            animationEasingUpdate: 'quinticInOut',
            label: {
                normal: {
                    show: true,
                    textStyle: {
                        fontSize: 12
                    }
                }
            },
            legend: {
                padding: [
                    5,  // up
                    10, // right
                    5,  // down
                    10, // left
                ]
            },
            series: [{
                type: 'graph', //关系图
                layout: 'force',//力引导布局
                force: {
                    repulsion: 500, //斥力因子，值越大，斥力越大
                    // edgeLength: [90,170],//连接线长度，连接线值越大，长度越短
                    // layoutAnimation: true//力引导布局会在多次迭代后稳定
                },
                symbolSize: 30, //图形大小
                zoom: 1, // 当前视角缩放比例
                roam: true, //开启鼠标缩放和平移漫游
                nodeScaleRatio: 0.6, //鼠标漫游缩放时节点相应缩放比例
                draggable: true, //可拖拽
                // focusNodeAdjacency: false,//鼠标移动到节点上时突出显示节点和邻接节点
                label: {
                    normal: {
                        show: true,
                        textStyle: {
                            fontSize: 12
                        },
                        position: 'right',
                        formatter: '{b}'
                    }
                },
                lineStyle: {
                    color: 'source',
                    width: 3,
                    // curveness: 0.3
                },
                edgeSymbol: ['circle', 'arrow'], // 边两端标记类型
                edgeSymbolSize: [5, 10], // 箭头大小
                edgeLabel: {
                    normal: {
                        show: true,
                        textStyle: {
                            fontSize: 10
                        },
                        formatter: "{c}"
                    }
                },
                categories: [ // 节点分类
                    {
                        name: '已通过',
                        itemStyle: {
                            normal: {
                                color: '#02ed45'
                            }
                        }
                    }, {
                        name: '已解锁',
                        itemStyle: {
                            normal: {
                                color: "#346beb",
                            }
                        }
                    }, {
                        name: '未解锁',
                        itemStyle: {
                            normal: {
                                color: "#d0eb34",
                            }
                        }
                    }
                ],
                data: data.data,
                links: data.links
            }]
        };
        myChart.setOption(option);

        myChart.on('click', (param) => {
            console.log(param.data);
            window.open(param.data.link, '_blank');
        });
        myChart.on('graphroam', function (params) {

        })

        function changeZoom(added) {
            if (added < -0.5 || added > 0.5) {
                return
            }
            this.option.series[0].zoom += added
            this.myChart.setOption(this.option)
        }

        window.onresize = function () {
            myChart.resize();
        };
    </script>

    <div class="btn-group">
        <button class="btn-add" onclick="changeZoom(0.2)"></button>
        <button class="btn-sub" onclick="changeZoom(-0.2)"></button>
    </div>
</body>

</html>
