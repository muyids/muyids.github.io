<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8" />
    <title>位运算</title>
    <script src="echarts.5.3.3.min.js"></script>
    <script src="problems.js "></script>
    <style type="text/css">
        .btn-add,
        .btn-sub {
            width: 1.5rem; height: 1.5rem;
            border: 1px solid gray;
            background: linear-gradient(currentColor, currentColor) no-repeat center/.875em 2px,
                        linear-gradient(currentColor, currentColor) no-repeat center/2px .875em,
                        ghostwhite;
            color: dimgray;
        }
        .btn-sub {
            background-size: .875em 2px, 0;
        }
        .btn-group {
            position: absolute;
            transition: .5s ease;
            top: 95%;
            left: 95%;
        }
    </style>
</head>

<body>
    <div id="main" style="width: 100%;height:800px; background-color: beige;"></div>

    <script type="text/javascript">
        var myChart = echarts.init(document.getElementById('main'));
        var data = {"data": [{"frontId": "29", "link": "https://leetcode.cn/problems/divide-two-integers/", "name": "29. 两数相除"}, {"frontId": "67", "link": "https://leetcode.cn/problems/add-binary/", "name": "67. 二进制求和"}, {"frontId": "78", "link": "https://leetcode.cn/problems/subsets/", "name": "78. 子集"}, {"frontId": "89", "link": "https://leetcode.cn/problems/gray-code/", "name": "89. 格雷编码"}, {"frontId": "90", "link": "https://leetcode.cn/problems/subsets-ii/", "name": "90. 子集 II"}, {"frontId": "136", "link": "https://leetcode.cn/problems/single-number/", "name": "136. 只出现一次的数字"}, {"frontId": "137", "link": "https://leetcode.cn/problems/single-number-ii/", "name": "137. 只出现一次的数字 II"}, {"frontId": "187", "link": "https://leetcode.cn/problems/repeated-dna-sequences/", "name": "187. 重复的DNA序列"}, {"frontId": "190", "link": "https://leetcode.cn/problems/reverse-bits/", "name": "190. 颠倒二进制位"}, {"frontId": "191", "link": "https://leetcode.cn/problems/number-of-1-bits/", "name": "191. 位1的个数"}, {"frontId": "201", "link": "https://leetcode.cn/problems/bitwise-and-of-numbers-range/", "name": "201. 数字范围按位与"}, {"frontId": "231", "link": "https://leetcode.cn/problems/power-of-two/", "name": "231. 2 的幂"}, {"frontId": "260", "link": "https://leetcode.cn/problems/single-number-iii/", "name": "260. 只出现一次的数字 III"}, {"frontId": "268", "link": "https://leetcode.cn/problems/missing-number/", "name": "268. 丢失的数字"}, {"frontId": "287", "link": "https://leetcode.cn/problems/find-the-duplicate-number/", "name": "287. 寻找重复数"}, {"frontId": "318", "link": "https://leetcode.cn/problems/maximum-product-of-word-lengths/", "name": "318. 最大单词长度乘积"}, {"frontId": "338", "link": "https://leetcode.cn/problems/counting-bits/", "name": "338. 比特位计数"}, {"frontId": "371", "link": "https://leetcode.cn/problems/sum-of-two-integers/", "name": "371. 两整数之和"}, {"frontId": "389", "link": "https://leetcode.cn/problems/find-the-difference/", "name": "389. 找不同"}, {"frontId": "393", "link": "https://leetcode.cn/problems/utf-8-validation/", "name": "393. UTF-8 编码验证"}, {"frontId": "342", "link": "https://leetcode.cn/problems/power-of-four/", "name": "342. 4的幂"}, {"frontId": "421", "link": "https://leetcode.cn/problems/maximum-xor-of-two-numbers-in-an-array/", "name": "421. 数组中两个数的最大异或值"}, {"frontId": "477", "link": "https://leetcode.cn/problems/total-hamming-distance/", "name": "477. 汉明距离总和"}, {"frontId": "638", "link": "https://leetcode.cn/problems/shopping-offers/", "name": "638. 大礼包"}, {"frontId": "672", "link": "https://leetcode.cn/problems/bulb-switcher-ii/", "name": "672. 灯泡开关 Ⅱ"}, {"frontId": "691", "link": "https://leetcode.cn/problems/stickers-to-spell-word/", "name": "691. 贴纸拼词"}, {"frontId": "756", "link": "https://leetcode.cn/problems/pyramid-transition-matrix/", "name": "756. 金字塔转换矩阵"}, {"frontId": "762", "link": "https://leetcode.cn/problems/prime-number-of-set-bits-in-binary-representation/", "name": "762. 二进制表示中质数个计算置位"}, {"frontId": "779", "link": "https://leetcode.cn/problems/k-th-symbol-in-grammar/", "name": "779. 第K个语法符号"}, {"frontId": "782", "link": "https://leetcode.cn/problems/transform-to-chessboard/", "name": "782. 变为棋盘"}, {"frontId": "476", "link": "https://leetcode.cn/problems/number-complement/", "name": "476. 数字的补数"}, {"frontId": "1125", "link": "https://leetcode.cn/problems/smallest-sufficient-team/", "name": "1125. 最小的必要团队"}, {"frontId": "847", "link": "https://leetcode.cn/problems/shortest-path-visiting-all-nodes/", "name": "847. 访问所有节点的最短路径"}, {"frontId": "864", "link": "https://leetcode.cn/problems/shortest-path-to-get-all-keys/", "name": "864. 获取所有钥匙的最短路径"}, {"frontId": "405", "link": "https://leetcode.cn/problems/convert-a-number-to-hexadecimal/", "name": "405. 数字转换为十六进制数"}], "links": [{"source": "191. 位1的个数", "target": "371. 两整数之和"}, {"source": "191. 位1的个数", "target": "476. 数字的补数"}, {"source": "191. 位1的个数", "target": "136. 只出现一次的数字"}, {"source": "191. 位1的个数", "target": "78. 子集"}, {"source": "191. 位1的个数", "target": "231. 2 的幂"}, {"source": "231. 2 的幂", "target": "201. 数字范围按位与"}, {"source": "231. 2 的幂", "target": "342. 4的幂"}, {"source": "371. 两整数之和", "target": "29. 两数相除"}, {"source": "136. 只出现一次的数字", "target": "137. 只出现一次的数字 II"}, {"source": "137. 只出现一次的数字 II", "target": "260. 只出现一次的数字 III"}, {"source": "78. 子集", "target": "1125. 最小的必要团队"}, {"source": "1125. 最小的必要团队", "target": "847. 访问所有节点的最短路径"}, {"source": "78. 子集", "target": "90. 子集 II"}, {"source": "847. 访问所有节点的最短路径", "target": "864. 获取所有钥匙的最短路径"}, {"source": "191. 位1的个数", "target": "89. 格雷编码"}, {"source": "89. 格雷编码", "target": "393. UTF-8 编码验证"}, {"source": "476. 数字的补数", "target": "405. 数字转换为十六进制数"}, {"source": "201. 数字范围按位与", "target": "421. 数组中两个数的最大异或值"}, {"source": "421. 数组中两个数的最大异或值", "target": "477. 汉明距离总和"}]}

        data.data.forEach(e => {
            e.level = all_problems[e.frontId]['l']
            e.status = all_problems[e.frontId]['s']
            e.draggable = true
            if (all_problems[e.frontId] && all_problems[e.frontId]['s']) {
                e['category'] = 0
            }
        })
        data.links.forEach(e => {
            e.value = ''
        })

        var option = {
            tooltip: {
                trigger: 'item',
                formatter(params) {
                    var data = params.data
                    s = `${data.name}<br/>
${data.level == 1 ? '容易' : data.level == 2 ? '中等' : '困难'}<br />
${data.status == 1 ? "AC" : "NotAC"}`
                    return s;
                }
            },
            focusNodeAdjacency: true,
            animationDurationUpdate: 1500,
            animationEasingUpdate: 'quinticInOut',
            label: {
                normal: {
                    show: true,
                    textStyle: {
                        fontSize: 12
                    }
                }
            },
            legend: {
                padding: [
                    5,  // up
                    10, // right
                    5,  // down
                    10, // left
                ]
            },
            series: [{
                type: 'graph', //关系图
                layout: 'force',//力引导布局
                force: {
                    repulsion: 500, //斥力因子，值越大，斥力越大
                    // edgeLength: [90,170],//连接线长度，连接线值越大，长度越短
                    // layoutAnimation: true//力引导布局会在多次迭代后稳定
                },
                symbolSize: 30, //图形大小
                zoom: 1, // 当前视角缩放比例
                roam: true, //开启鼠标缩放和平移漫游
                nodeScaleRatio: 0.6, //鼠标漫游缩放时节点相应缩放比例
                draggable: true, //可拖拽
                // focusNodeAdjacency: false,//鼠标移动到节点上时突出显示节点和邻接节点
                label: {
                    normal: {
                        show: true,
                        textStyle: {
                            fontSize: 12
                        },
                        position: 'right',
                        formatter: '{b}'
                    }
                },
                lineStyle: {
                    color: 'source',
                    width: 3,
                    // curveness: 0.3
                },
                edgeSymbol: ['circle', 'arrow'], // 边两端标记类型
                edgeSymbolSize: [5, 10], // 箭头大小
                edgeLabel: {
                    normal: {
                        show: true,
                        textStyle: {
                            fontSize: 10
                        },
                        formatter: "{c}"
                    }
                },
                categories: [ // 节点分类
                    {
                        name: '已通过',
                        itemStyle: {
                            normal: {
                                color: '#02ed45'
                            }
                        }
                    }, {
                        name: '已解锁',
                        itemStyle: {
                            normal: {
                                color: "#346beb",
                            }
                        }
                    }, {
                        name: '未解锁',
                        itemStyle: {
                            normal: {
                                color: "#d0eb34",
                            }
                        }
                    }
                ],
                data: data.data,
                links: data.links
            }]
        };
        myChart.setOption(option);

        myChart.on('click', (param) => {
            console.log(param.data);
            window.open(param.data.link, '_blank');
        });
        myChart.on('graphroam', function (params) {

        })

        function changeZoom(added) {
            if (added < -0.5 || added > 0.5) {
                return
            }
            this.option.series[0].zoom += added
            this.myChart.setOption(this.option)
        }

        window.onresize = function () {
            myChart.resize();
        };
    </script>

    <div class="btn-group">
        <button class="btn-add" onclick="changeZoom(0.2)"></button>
        <button class="btn-sub" onclick="changeZoom(-0.2)"></button>
    </div>
</body>

</html>
